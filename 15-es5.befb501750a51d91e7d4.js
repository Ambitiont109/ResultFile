!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{mGOT:function(t,i,r){"use strict";r.r(i),r.d(i,"MarketingModule",(function(){return w}));var a,o=r("ofXK"),l=r("tyNb"),c=r("AytR"),s=r("fXoL"),d=r("tk/3"),u=((a=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=c.a.API_URL}return n(t,[{key:"GetMarketings",value:function(){return this.httpClient.get(this.api_url+"/marketings/")}},{key:"deleteMarket",value:function(e){return this.httpClient.delete("".concat(this.api_url,"/marketings/").concat(e.id,"/"))}}]),t}()).\u0275fac=function(e){return new(e||a)(s["\u0275\u0275inject"](d.c))},a.\u0275prov=s["\u0275\u0275defineInjectable"]({token:a,factory:a.\u0275fac,providedIn:"root"}),a),m=r("NdX7"),p=r("cSNu"),f=r("aceb"),v=r("3Pt+"),g=r("sYmb");function h(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",7),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"div",9),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275elementStart"](4,"div",11),s["\u0275\u0275elementStart"](5,"span",12),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",13),s["\u0275\u0275elementStart"](8,"button",14),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteClick(e)})),s["\u0275\u0275text"](9),s["\u0275\u0275pipe"](10,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"p"),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"]("",i.question,"?"),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](10,3,"DELETE"),""),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",i.content," ")}}var b,k,y,S=[{path:"",component:(b=function(){function t(n,i,r){e(this,t),this.marketingService=n,this.dialogService=i,this.toastService=r}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.marketingService.GetMarketings().subscribe((function(t){e.marketings=t,e.filteredMarketings=e.marketings}))}},{key:"onSearchWordChange",value:function(e){this.filteredMarketings=this.marketings.filter((function(t){return t.question.toLowerCase().includes(e.toLowerCase())}))}},{key:"onDeleteClick",value:function(e){var t=this;this.dialogService.open(p.a,{context:{title:"Are you sure?"}}).onClose.subscribe((function(n){n&&t.marketingService.deleteMarket(e).subscribe((function(e){t.toastService.info("Marketing data has been removed","success")}))}))}}]),t}(),b.\u0275fac=function(e){return new(e||b)(s["\u0275\u0275directiveInject"](u),s["\u0275\u0275directiveInject"](f.G),s["\u0275\u0275directiveInject"](m.a))},b.\u0275cmp=s["\u0275\u0275defineComponent"]({type:b,selectors:[["ngx-marketing"]],decls:14,vars:8,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"search-box","mb-2"],[2,"display","flex","justify-content","flex-end"],["type","text","nbInput","",3,"ngModel","placeholder","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"ml-3","mt-2","w-100"],[1,"d-flex","flex-wrap","align-items-center"],[1,"text-1"],[1,"date-text"],[1,"text-primary"],[1,"ml-auto"],["nbButton","","ghost","",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-card-body"),s["\u0275\u0275elementStart"](6,"div",1),s["\u0275\u0275elementStart"](7,"div",2),s["\u0275\u0275elementStart"](8,"input",3),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchWord=e}))("ngModelChange",(function(e){return t.onSearchWordChange(e)})),s["\u0275\u0275pipe"](9,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"button",4),s["\u0275\u0275element"](11,"nb-icon",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-list"),s["\u0275\u0275template"](13,h,13,5,"nb-list-item",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](4,4,"Marketing")," "),s["\u0275\u0275advance"](5),s["\u0275\u0275propertyInterpolate"]("placeholder",s["\u0275\u0275pipeBind1"](9,6,"Search by name")),s["\u0275\u0275property"]("ngModel",t.searchWord),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngForOf",t.filteredMarketings))},directives:[f.u,f.x,f.t,f.L,v.c,v.r,v.u,f.q,f.I,f.U,o.n,f.V],pipes:[g.c],styles:[""]}),b)}],x=((k=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||k)},imports:[[l.g.forChild(S)],l.g]}),k),E=r("p0MU"),w=((y=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:y}),y.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||y)},imports:[[o.c,f.y,f.W,v.l,f.K,f.r,f.M,E.a,x]]}),y)}}])}();