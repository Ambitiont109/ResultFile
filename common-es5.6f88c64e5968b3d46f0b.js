!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+R3+":function(t,i,r){"use strict";r.d(i,"a",(function(){return c}));var a=r("AytR"),o=r("LRne"),s=r("fXoL"),l=r("tk/3"),c=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=a.a.API_URL}return n(t,[{key:"addFood",value:function(e,t){if(t){var n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),n.set("picture",t),this.httpClient.post(this.api_url+"/foods/",n)}return Object(o.a)("Error")}},{key:"updateFood",value:function(e,t){var n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),n.delete("picture"),t&&n.append("picture",t),this.httpClient.patch("".concat(this.api_url,"/foods/").concat(e.id,"/"),n)}},{key:"deleteFoodFromMenu",value:function(e,t,n){return this.httpClient.post(this.api_url+"/menuitems/removefoodfrommenu/",{foods:[e.id],weekName:t,dayName:n})}},{key:"getAllMenuInformation",value:function(){return this.httpClient.get(this.api_url+"/menuitems/")}},{key:"addFoodToMenu",value:function(e,t,n){var i=e.map((function(e){return e.id}));return this.httpClient.post(this.api_url+"/menuitems/AddFood/",{foods:i,weekName:t,dayName:n})}},{key:"getAllFoods",value:function(){return this.httpClient.get(this.api_url+"/foods/")}},{key:"getFoodById",value:function(e){return this.httpClient.get("".concat(this.api_url,"/foods/").concat(e,"/"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275inject"](l.c))},t.\u0275prov=s["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"7njR":function(t,i,r){"use strict";r.d(i,"a",(function(){return d}));var a=r("AytR"),o=r("LRne"),s=r("GHal"),l=r("3Ksp"),c=r("fXoL"),u=r("tk/3"),d=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=a.a.API_URL}return n(t,[{key:"createBlankAppointment",value:function(){return{id:-1,title:"",color:l.c.Red,parent:void 0,teacher:void 0,start:void 0,end:void 0,status:l.a.PENDING,child:void 0,type:l.b.FREE}}},{key:"createBlankPresetAppointment",value:function(){return{className:void 0,presetInfo:void 0,child:void 0,start:void 0,timerange:void 0,end:void 0}}},{key:"getEventsByUserId",value:function(e){return this.httpClient.get("".concat(this.api_url,"/appointments/user/").concat(e,"/"))}},{key:"getEventsOfCurrentUser",value:function(){return this.httpClient.get(this.api_url+"/appointments/")}},{key:"patchEvent",value:function(e,t){return this.httpClient.patch("".concat(this.api_url,"/appointments/").concat(e.id,"/"),t)}},{key:"getEventById",value:function(e){return this.httpClient.get("".concat(this.api_url,"/appointments/").concat(e,"/"))}},{key:"deleteEventById",value:function(e){return s.a.splice(e,1),Object(o.a)("success")}},{key:"StartNewPreset",value:function(e){return e.status=l.d.Started,this.httpClient.post(this.api_url+"/appointments/preset_record/",e)}},{key:"UpdatePresetRecord",value:function(e){return this.httpClient.patch("".concat(this.api_url,"/appointments/preset_record/").concat(e.id,"/"),e)}},{key:"GetCurrentPresetRecord",value:function(){return this.httpClient.get(this.api_url+"/appointments/preset_record/current/")}},{key:"GetPresetAppointmentByClassroom",value:function(e){return this.httpClient.get("".concat(this.api_url,"/appointments/preset_appointments?current_preset=true&className=").concat(e))}},{key:"CloseCurrentPreset",value:function(e){return this.httpClient.patch("".concat(this.api_url,"/appointments/preset_record/").concat(e,"/"),{status:l.d.Closed})}},{key:"updatePresetAppointment",value:function(e){var t=Object.assign({},e);return t.child=e.child.id,t.timerange=e.timerange.id,this.httpClient.patch("".concat(this.api_url,"/appointments/preset_appointments/").concat(e.id,"/"),t)}},{key:"UpdateEventById",value:function(e){return this.httpClient.patch("".concat(this.api_url,"/appointments/").concat(e.id,"/"),{title:e.title,start:e.start,end:e.end})}},{key:"createPresetAppointment",value:function(e){var t=Object.assign({},e);return t.child=e.child.id,t.timerange=e.timerange.id,this.httpClient.post(this.api_url+"/appointments/preset_appointments/",t)}},{key:"CreateEvent",value:function(e){if(e.type==l.b.PRESET)e.color=l.c.Preset;else{var t=[];for(var n in l.c)console.log(n),l.c[n]!=l.c.Preset&&t.push(l.c[n]);e.color=t[Math.floor(Math.random()*t.length)]}var i;return(i=e).child=e.child.id,i.parent=e.parent.id,i.teacher=e.teacher.id,this.httpClient.post(this.api_url+"/appointments/",e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](u.c))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},B3Wl:function(t,i,r){"use strict";r.d(i,"a",(function(){return l}));var a=r("AytR"),o=r("fXoL"),s=r("tk/3"),l=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=a.a.API_URL}return n(t,[{key:"getDocuments",value:function(){return this.httpClient.get(this.api_url+"/schooldocuments/")}},{key:"deleteDocument",value:function(e){return this.httpClient.delete("".concat(this.api_url,"/schooldocuments/").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](s.c))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},CHuZ:function(e,t,n){"use strict";function i(e,t){var n=e.get(t);return n.invalid&&(n.dirty||n.touched)}n.d(t,"a",(function(){return i}))},EZvT:function(t,i,r){"use strict";r.d(i,"a",(function(){return l}));var a=r("AytR"),o=r("fXoL"),s=r("tk/3"),l=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=a.a.API_URL}return n(t,[{key:"getPicturesOfChild",value:function(e){return this.httpClient.get("".concat(this.api_url,"/child/").concat(e,"/pictures/"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](s.c))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},RbqP:function(t,i,r){"use strict";r.d(i,"a",(function(){return w}));var a=r("fXoL"),o=r("vqVJ"),s=r("RS3s"),l=r("3Pt+"),c=r("aceb"),u=r("ofXK");function d(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",3),a["\u0275\u0275element"](1,"nb-icon",4),a["\u0275\u0275elementEnd"]())}var p,h=((p=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.rowData.checked=!this.rowData.checked||!this.rowData.checked}}]),t}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=a["\u0275\u0275defineComponent"]({type:p,selectors:[["ngx-cell-avatar-with-check-box"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:3,consts:[[2,"position","relative"],["size","large",3,"picture","name","click"],["style","position:absolute; right: 0px; top: 0px;z-index:99;",4,"ngIf"],[2,"position","absolute","right","0px","top","0px","z-index","99"],["icon","checkmark-outline"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"nb-user",1),a["\u0275\u0275listener"]("click",(function(){return t.onClick()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](2,d,2,0,"div",2),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("picture",t.rowData.picture)("name",t.rowData.first_name+" "+t.rowData.last_name),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.rowData.checked))},directives:[c.wb,u.o,c.I],styles:[""]}),p),f=r("sYmb"),m=function(e){return{disabled:e}};function g(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"nb-user",4),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](2),t=a["\u0275\u0275reference"](4);return e.open(t)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](3,m,i.isDisabled))("picture",i.selectedUsers[0].picture)("name",i.selectedUsers[0].first_name+" "+i.selectedUsers[0].last_name)}}function v(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"nb-user",7),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](3),t=a["\u0275\u0275reference"](4);return e.open(t)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit,r=a["\u0275\u0275nextContext"](3);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](3,m,r.isDisabled))("picture",i.picture)("name",i.first_name+" "+i.last_name)}}function C(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",5),a["\u0275\u0275template"](1,v,2,5,"ng-container",6),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.selectedUsers)}}function b(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,g,2,5,"ng-container",0),a["\u0275\u0275template"](2,C,2,1,"ng-template",null,3,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementContainerEnd"]()),2&e){var n=a["\u0275\u0275reference"](3),i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.isMulti)("ngIfElse",n)}}function y(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"nb-user",4),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](),t=a["\u0275\u0275reference"](4);return e.open(t)})),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](3,m,i.isDisabled))("picture",i.unknown_picture)("name","Select User")}}function x(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"nb-card"),a["\u0275\u0275elementStart"](1,"nb-card-header"),a["\u0275\u0275text"](2),a["\u0275\u0275elementStart"](3,"button",8),a["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),a["\u0275\u0275elementStart"](4,"nb-icon",9),a["\u0275\u0275text"](5,"arrow-back-outline"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"nb-card-body",10),a["\u0275\u0275elementStart"](7,"div",11),a["\u0275\u0275elementStart"](8,"div",12),a["\u0275\u0275elementStart"](9,"input",13),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().searchWord=e}))("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSearchWordChange(e)})),a["\u0275\u0275pipe"](10,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"button",14),a["\u0275\u0275element"](12,"nb-icon",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"ng2-smart-table",16),a["\u0275\u0275listener"]("userRowSelect",(function(e){a["\u0275\u0275restoreView"](n);var i=t.dialogRef,r=a["\u0275\u0275nextContext"]();return r.onRowSelect(e),r.handleClose(i)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",i.title," "),a["\u0275\u0275advance"](7),a["\u0275\u0275propertyInterpolate"]("placeholder",a["\u0275\u0275pipeBind1"](10,5,"Search by name")),a["\u0275\u0275property"]("ngModel",i.searchWord),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("settings",i.settings)("source",i.users_src)}}var k,w=((k=function(){function t(n){e(this,t),this.dialogService=n,this.unknown_picture=o.b,this.settings={actions:{add:!1,edit:!1,delete:!1,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},hideSubHeader:!0,hideHeader:!0,pager:{perPage:4},columns:{picture:{type:"custom",renderComponent:h}}},this.onChange=function(e){},this.onTouched=function(){},this.title="Select User",this.isDisabled=!1,this.isMulti=!1,this.selectedUsers=[]}return n(t,[{key:"ngOnInit",value:function(){this.users_src=new s.a(this.users),this.isDisabled=this.disabled,this.initValue&&this.setSelectedUserData(this.initValue)}},{key:"ngOnChanges",value:function(e){"users"in e&&this.users&&(this.users_src=new s.a(this.users))}},{key:"onUserClick",value:function(){}},{key:"onRowSelect",value:function(e){if(this.isMulti){var t=this.selectedUsers.findIndex((function(t){return t.id==e.data.id}));-1!=t?this.selectedUsers.splice(t,1):this.selectedUsers.push(e.data),this.onChange(this.selectedUsers)}else this.selectedUsers.length>0?(this.selectedUsers.forEach((function(e){e.checked&&(e.checked=!1)})),this.selectedUsers[0]=e.data):this.selectedUsers.push(e.data),this.onChange(this.selectedUsers[0]);this.onTouched()}},{key:"handleClose",value:function(e){this.isMulti||e.close()}},{key:"onSearchWordChange",value:function(e){this.searchWord=e,this.searchWord?this.users_src.setFilter([{field:"first_name",search:this.searchWord},{field:"last_name",search:this.searchWord}],!1):this.users_src.setFilter(null)}},{key:"open",value:function(e){this.isDisabled||(this.dialogService.open(e),this.onTouched())}},{key:"setSelectedUserData",value:function(e){this.isMulti?this.selectedUsers=e:e&&(this.selectedUsers=[e])}},{key:"writeValue",value:function(e){this.setSelectedUserData(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}}]),t}()).\u0275fac=function(e){return new(e||k)(a["\u0275\u0275directiveInject"](c.G))},k.\u0275cmp=a["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-user-select"]],inputs:{users:"users",initValue:["value","initValue"],title:"title",disabled:"disabled",isMulti:["multi","isMulti"]},features:[a["\u0275\u0275ProvidersFeature"]([{provide:l.p,useExisting:Object(a.forwardRef)((function(){return k})),multi:!0}]),a["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["unknown",""],["dialog",""],["multi",""],["size","large",3,"ngClass","picture","name","click"],[1,"d-flex","align-items-center","flex-wrap"],[4,"ngFor","ngForOf"],["size","large",1,"mr-2",3,"ngClass","picture","name","click"],["nbTooltip","Back","nbButton","","ghost","",2,"float","right",3,"click"],["icon","close-outline",2,"color","white"],[2,"min-height","300px"],[1,"search-box"],[2,"display","flex"],["type","text","nbInput","","fullWidth","",3,"ngModel","placeholder","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],[3,"settings","source","userRowSelect"]],template:function(e,t){if(1&e&&(a["\u0275\u0275template"](0,b,4,2,"ng-container",0),a["\u0275\u0275template"](1,y,1,5,"ng-template",null,1,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](3,x,14,7,"ng-template",null,2,a["\u0275\u0275templateRefExtractor"])),2&e){var n=a["\u0275\u0275reference"](2);a["\u0275\u0275property"]("ngIf",(null==t.selectedUsers?null:t.selectedUsers.length)>0)("ngIfElse",n)}},directives:[u.o,c.wb,u.m,u.n,c.u,c.x,c.q,c.ub,c.I,c.t,c.L,l.c,l.r,l.u,s.b],pipes:[f.c],styles:["nb-user[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}"]}),k)},Rqib:function(t,n,i){"use strict";i.d(n,"a",(function(){return u}));var r=i("ofXK"),a=i("RS3s"),o=i("3Pt+"),s=i("aceb"),l=i("p0MU"),c=i("fXoL"),u=function(){var t=function t(){e(this,t)};return t.\u0275mod=c["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.c,o.l,s.y,s.r,s.K,s.M,s.K,s.r,s.xb,l.a,a.c]]}),t}()},TUgJ:function(t,i,r){"use strict";r.d(i,"a",(function(){return s}));var a=r("fXoL"),o=r("aceb"),s=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){console.log(this.rowData)}},{key:"onClick",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-cell-avatar"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:2,consts:[[2,"position","relative","cursor","pointer"],["size","large",3,"picture","name","click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"nb-user",1),a["\u0275\u0275listener"]("click",(function(){return t.onClick()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("picture",t.rowData.picture)("name",t.rowData.first_name+" "+t.rowData.last_name))},directives:[o.wb],styles:[""]}),t}()},cSNu:function(t,i,r){"use strict";r.d(i,"a",(function(){return l}));var a=r("fXoL"),o=r("aceb"),s=r("sYmb"),l=function(){var t=function(){function t(n){e(this,t),this.dialogRef=n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](o.F))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-yes-no-dialog"]],inputs:{title:"title"},decls:11,vars:10,consts:[["nbButton","","size","small",1,"mr-4",3,"tabindex","click"],["nbButton","","size","small",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"nb-card"),a["\u0275\u0275elementStart"](1,"nb-card-body"),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"nb-card-footer"),a["\u0275\u0275elementStart"](5,"button",0),a["\u0275\u0275listener"]("click",(function(){return t.close(!0)})),a["\u0275\u0275text"](6),a["\u0275\u0275pipe"](7,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"button",1),a["\u0275\u0275listener"]("click",(function(){return t.close(!1)})),a["\u0275\u0275text"](9),a["\u0275\u0275pipe"](10,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](3,4,t.title)," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("tabindex",1),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](7,6,"Yes")),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](10,8,"No")))},directives:[o.u,o.t,o.v,o.q],pipes:[s.c],styles:[""]}),t}()},dEvH:function(t,i,r){"use strict";r.d(i,"a",(function(){return h}));var a,o,s=r("fXoL"),l=r("RS3s"),c=r("aceb"),u=((a=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){console.log(this.rowData)}},{key:"onClick",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:a,selectors:[["ngx-child-cell"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:3,consts:[[2,"position","relative","cursor","pointer"],["size","large",3,"picture","title","name","click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"nb-user",1),s["\u0275\u0275listener"]("click",(function(){return t.onClick()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("picture",t.rowData.photo)("title",t.rowData.nameOfClass)("name",t.rowData.first_name+" "+t.rowData.last_name))},directives:[c.wb],styles:[""]}),a),d=r("3Pt+"),p=r("sYmb"),h=((o=function(){function t(){e(this,t),this.onSelectEvent=new s.EventEmitter,this.parents=[],this.settings={actions:{add:!1,edit:!1,delete:!1,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},hideSubHeader:!0,hideHeader:!0,pager:{perPage:4},columns:{picture:{type:"custom",renderComponent:u}}},this.parent_src=new l.a}return n(t,[{key:"ngOnInit",value:function(){this.data&&(this.parents=this.data,this.parent_src.load(this.parents))}},{key:"ngOnChanges",value:function(e){"data"in e&&this.data&&this.parent_src.load(this.data)}},{key:"onSearchWordChange",value:function(e){this.searchWord=e,this.searchWord?this.parent_src.setFilter([{field:"first_name",search:this.searchWord},{field:"last_name",search:this.searchWord}],!1):this.parent_src.setFilter(null)}},{key:"onRowSelect",value:function(e){this.onSelectEvent.emit(e.data)}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=s["\u0275\u0275defineComponent"]({type:o,selectors:[["ngx-child-list"]],inputs:{data:"data"},outputs:{onSelectEvent:"onselect"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:7,vars:6,consts:[[1,"search-box","mb-2"],[2,"display","flex","justify-content","flex-end"],["type","text","nbInput","",3,"ngModel","placeholder","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],[3,"settings","source","userRowSelect"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"input",2),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchWord=e}))("ngModelChange",(function(e){return t.onSearchWordChange(e)})),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",3),s["\u0275\u0275element"](5,"nb-icon",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"ng2-smart-table",5),s["\u0275\u0275listener"]("userRowSelect",(function(e){return t.onRowSelect(e)})),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate"]("placeholder",s["\u0275\u0275pipeBind1"](3,4,"Search by name")),s["\u0275\u0275property"]("ngModel",t.searchWord),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("settings",t.settings)("source",t.parent_src))},directives:[c.L,d.c,d.r,d.u,c.q,c.I,l.b],pipes:[p.c],styles:[""]}),o)},fUYe:function(t,i,r){"use strict";r.d(i,"a",(function(){return F}));var a=r("fXoL"),o=r("/aQt"),s=r("vqVJ"),l=r("CWoy"),c=r("AytR"),u=r("aceb"),d=r("ofXK"),p=r("3Pt+"),h=r("cp0P"),f=r("LRne"),m=(r("rRhN"),r("PNcV")),g=r("sYmb"),v=["autoInput"];function C(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275text"](2),a["\u0275\u0275elementStart"](3,"nb-icon",9),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().onRemove(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",r.getItemName(i)," ")}}function b(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"nb-option",10),a["\u0275\u0275element"](1,"nb-user",11),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("title",a["\u0275\u0275pipeBind1"](2,4,i.getItemTitle(n))),a["\u0275\u0275property"]("name",i.getItemName(n))("picture",i.getItemPicture(n))}}var y,x=((y=function(){function t(n,i){e(this,t),this.userService=n,this.childSerivce=i,this.multi=!0,this.usertype=l.a.Parent}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.selectedData=[],this.options=[],this.usertype==l.a.Admin&&Object(h.a)({teachers:this.userService.getTeachers(),children:this.childSerivce.getAllChildren()}).subscribe((function(t){var n=t.teachers,i=t.children,r=[];n.forEach((function(e){r.push({id:r.length+1,user:e})})),i.forEach((function(e){r.push({id:r.length+1,user:e.parent,child:e})})),e.data=r,e.filteredOptions$=Object(f.a)(r)})),this.usertype==l.a.Teacher&&Object(h.a)({admins:this.userService.getAdmins(),children:this.childSerivce.getAllChildren()}).subscribe((function(t){var n=t.admins,i=t.children,r=[];n.forEach((function(e){r.push({id:r.length+1,user:e})})),i.forEach((function(e){r.push({id:r.length+1,user:e.parent,child:e})})),e.data=r,e.filteredOptions$=Object(f.a)(r)}))}},{key:"filter",value:function(e){var t=e.toLowerCase();return this.options.filter((function(e){return e.toLowerCase().includes(t)}))}},{key:"getFilteredOptions",value:function(e){var t,n=e.toLowerCase();return t=this.data.filter((function(e){if(e.user.role==l.a.Parent){if(e.child.first_name.toLowerCase().includes(n)||e.child.last_name.toLowerCase().includes(n))return!0}else if(e.user.first_name.toLowerCase().includes(n)||e.user.last_name.toLowerCase().includes(n))return!0;return!1})),Object(f.a)(t)}},{key:"onSearchKeyChange",value:function(){this.filteredOptions$=this.getFilteredOptions(this.input.nativeElement.value)}},{key:"onSelectionChange",value:function(e){this.multi?(this.selectedData.findIndex((function(t){return t.id==e.id}))>=0||this.selectedData.push(e),this.emitChanges(this.selectedData)):(this.selectedData=[e],this.emitChanges(e)),this.input.nativeElement.value=""}},{key:"emitChanges",value:function(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}},{key:"onRemove",value:function(e){var t=this.selectedData.findIndex((function(t){return t.id==e.id}));this.selectedData.splice(t,1),this.emitChanges(this.selectedData)}},{key:"writeValue",value:function(e){this.selectedData=this.multi?e:e?[e]:[]}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){}},{key:"getItemName",value:function(e){return e.user.role==l.a.Parent?e.child.first_name+" "+e.child.last_name:e.user.first_name+" "+e.user.last_name}},{key:"getItemTitle",value:function(e){return e.user.role==l.a.Parent?"Child":e.user.role==l.a.Admin?"Admin":e.user.role==l.a.Teacher?"Teacher":void 0}},{key:"getItemPicture",value:function(e){return e.user.role==l.a.Parent?e.child.photo:e.user.picture}}]),t}()).\u0275fac=function(e){return new(e||y)(a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](m.a))},y.\u0275cmp=a["\u0275\u0275defineComponent"]({type:y,selectors:[["ngx-tag-input"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](v,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.input=n.first)},inputs:{multi:"multi",usertype:"usertype"},features:[a["\u0275\u0275ProvidersFeature"]([{provide:p.p,useExisting:Object(a.forwardRef)((function(){return y})),multi:!0}])],decls:8,vars:5,consts:[[1,"d-flex","flex-wrap","input-style","align-items-center"],["class","tag mr-2",4,"ngFor","ngForOf"],["nbInput","","type","text",1,"flex-grow-1",3,"nbAutocomplete","input"],["autoInput",""],[3,"selectedChange"],["auto",""],[3,"value",4,"ngFor","ngForOf"],[1,"tag","mr-2"],[1,"tag-content"],["icon","close-outline",3,"click"],[3,"value"],["size","medium",3,"name","title","picture"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275template"](1,C,4,1,"div",1),a["\u0275\u0275elementStart"](2,"input",2,3),a["\u0275\u0275listener"]("input",(function(){return t.onSearchKeyChange()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"nb-autocomplete",4,5),a["\u0275\u0275listener"]("selectedChange",(function(e){return t.onSelectionChange(e)})),a["\u0275\u0275template"](6,b,3,6,"nb-option",6),a["\u0275\u0275pipe"](7,"async"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275reference"](5);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.selectedData),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("nbAutocomplete",n),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",a["\u0275\u0275pipeBind1"](7,3,t.filteredOptions$))}},directives:[d.n,u.L,u.m,u.l,u.I,u.bb,u.wb],pipes:[d.b,g.c],styles:["::-webkit-scrollbar{width:.3125rem;height:.3125rem}  ::-webkit-scrollbar-thumb{background:#101426;cursor:pointer;border-radius:.15625rem}  ::-webkit-scrollbar-track{background:#192038}[_nghost-%COMP%]   .input-style[_ngcontent-%COMP%]{background-color:#192038;color:#fff;border-radius:.25rem;border:1px solid #101426}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;max-width:none!important}[_nghost-%COMP%]   .flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:10px;margin-left:5px;margin-top:5px}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-content[_ngcontent-%COMP%]{padding-left:3px;padding-bottom:3px}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),y),k=r("kvL/"),w=r("EwH2");function S(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"span",15),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](3,1,"At least One Contact is required"),". "))}function E(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",15),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,1,"required"),". "))}function _(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,E,3,3,"span",16),a["\u0275\u0275elementEnd"]()),2&e){a["\u0275\u0275nextContext"]();var n=a["\u0275\u0275reference"](18);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.errors.required)}}function I(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"div",8),a["\u0275\u0275elementStart"](2,"label",9),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"input",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",8),a["\u0275\u0275elementStart"](7,"label",9),a["\u0275\u0275text"](8),a["\u0275\u0275pipe"](9,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"ngx-tag-input",11,12),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().to_contacts=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](12,S,4,3,"div",0),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",8),a["\u0275\u0275elementStart"](14,"label",9),a["\u0275\u0275text"](15),a["\u0275\u0275pipe"](16,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"input",13,14),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().subject=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](19,_,2,1,"div",0),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=a["\u0275\u0275reference"](11),r=a["\u0275\u0275reference"](18),o=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](4,9,"From"),":"),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",o.fromString),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](9,11,"To"),":"),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",o.to_contacts)("usertype",o.fromContact.role),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.invalid&&o.isSubmitted),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](16,13,"Subject"),":"),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",o.subject),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.invalid&&o.isSubmitted)}}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",15),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](2,1,"required"),". "))}function O(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,M,3,3,"span",16),a["\u0275\u0275elementEnd"]()),2&e){a["\u0275\u0275nextContext"]();var n=a["\u0275\u0275reference"](4);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",n.errors.required)}}function P(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"ngx-dropzone-image-preview",22),a["\u0275\u0275listener"]("removed",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](2).onRemove(e)})),a["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),a["\u0275\u0275elementStart"](2,"span",23),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"translate"),a["\u0275\u0275pipe"](5,"stateToString"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](6,"ngx-file-upload-ui--progressbar-circle",24),a["\u0275\u0275elementStart"](7,"span",9),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275property"]("file",i.data.raw)("removable",!0),a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate2"](" ",i.data.state," State: ",a["\u0275\u0275pipeBind1"](4,7,a["\u0275\u0275pipeBind1"](5,9,i.data.state))," "),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("progress",i.data.progress)("parts",12),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",i.data.name," ")}}function D(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",17),a["\u0275\u0275elementStart"](1,"button",18),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().isAttached=!1})),a["\u0275\u0275element"](2,"nb-icon",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"ngx-dropzone",20),a["\u0275\u0275listener"]("change",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSelect(e)})),a["\u0275\u0275elementStart"](4,"ngx-dropzone-label"),a["\u0275\u0275text"](5),a["\u0275\u0275pipe"](6,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](7,P,9,11,"ngx-dropzone-image-preview",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("accept","image/*"),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](6,3,"Drop or Browse")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",i.uploads)}}var R,F=((R=function(){function t(n,i){e(this,t),this.uploadFactory=n,this.userService=i,this.onSendEvent=new a.EventEmitter,this.uploads=[],this.storage=new o.d({concurrentUploads:2,autoStart:!0}),this.uploadOptions={url:c.a.API_URL+"/messages/file/upload/"},this.isReplyMode=!1,this.uploadedFileIds=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.isAttached=!1,this.to_contacts=[],this.isSubmitted=!1,this.storage.change().subscribe((function(t){e.uploads=t,console.log(e.uploads),t.forEach((function(t){if(t.isCompleted()){var n=t.data.response.body.id;e.uploadedFileIds.includes(n)||e.uploadedFileIds.push(n)}}))})),this.userService.getParents().subscribe((function(t){e.users=t})),this.fromString=this.getFromString()}},{key:"getFromString",value:function(){return this.fromContact?this.fromContact.role==l.a.Admin?"Admin Center":this.fromContact.role==l.a.Teacher?this.fromContact.first_name+" "+this.fromContact.last_name:void 0:""}},{key:"onSelect",value:function(e){console.log("Select",e);var t=this.uploadFactory.createUploadRequest(e.addedFiles,this.uploadOptions);this.storage.add(t)}},{key:"onRemove",value:function(e){if(e.isCompleted){var t=e.data.response.body.id;this.uploadedFileIds=this.uploadedFileIds.reduce((function(e,n){return!n==t&&e.push(n),e}),[])}this.storage.remove(e)}},{key:"send",value:function(){this.isSubmitted=!0;var e={to_contacts:this.to_contacts,subject:this.subject,content:this.content,fileIds:this.uploadedFileIds,isAttached:this.isAttached};this.to_contacts.length>0&&this.content&&this.subject&&this.onSendEvent.emit(e),this.isReplyMode&&this.content&&this.onSendEvent.emit(e)}}]),t}()).\u0275fac=function(e){return new(e||R)(a["\u0275\u0275directiveInject"](o.b),a["\u0275\u0275directiveInject"](s.a))},R.\u0275cmp=a["\u0275\u0275defineComponent"]({type:R,selectors:[["ngx-reply"]],inputs:{isReplyMode:"isReplyMode",fromContact:"fromContact"},outputs:{onSendEvent:"onsend"},decls:15,vars:13,consts:[[4,"ngIf"],["nbInput","","rows","5","fullWidth","","required","",3,"placeholder","ngModel","ngModelChange"],["contentControl","ngModel"],["style","position: relative;",4,"ngIf"],[1,"row","justify-content-end"],["nbButton","","ghost","",3,"nbTooltip","click"],["icon","attach-outline",2,"color","white"],["icon","paper-plane-outline",2,"color","white"],[1,"form-group"],[1,"label"],["nbInput","","type","text","fullWidth","","disabled","",3,"ngModel"],["required","","minlength","1",3,"ngModel","usertype","ngModelChange"],["contacts","ngModel"],["nbInput","","type","text","fullWidth","","required","",3,"ngModel","ngModelChange"],["subjectControl","ngModel"],[1,"error-text"],["class","error-text",4,"ngIf"],[2,"position","relative"],["nbButton","","ghost","",2,"position","absolute","right","5px","top","5px",3,"click"],["icon","close-outline"],[3,"accept","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"state"],[3,"progress","parts"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"nb-card"),a["\u0275\u0275elementStart"](1,"nb-card-body"),a["\u0275\u0275template"](2,I,20,15,"ng-container",0),a["\u0275\u0275elementStart"](3,"textarea",1,2),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.content=e})),a["\u0275\u0275pipe"](5,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](6,O,2,1,"div",0),a["\u0275\u0275template"](7,D,8,5,"div",3),a["\u0275\u0275elementStart"](8,"div",4),a["\u0275\u0275elementStart"](9,"button",5),a["\u0275\u0275listener"]("click",(function(){return t.isAttached=!t.isAttached})),a["\u0275\u0275pipe"](10,"translate"),a["\u0275\u0275element"](11,"nb-icon",6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",5),a["\u0275\u0275listener"]("click",(function(){return t.send()})),a["\u0275\u0275pipe"](13,"translate"),a["\u0275\u0275element"](14,"nb-icon",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275reference"](4);a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!t.isReplyMode),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("placeholder",a["\u0275\u0275pipeBind1"](5,7,"Write your Content")),a["\u0275\u0275property"]("ngModel",t.content),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",n.invalid&&t.isSubmitted),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isAttached),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate"]("nbTooltip",a["\u0275\u0275pipeBind1"](10,9,"AttachPicture")),a["\u0275\u0275advance"](3),a["\u0275\u0275propertyInterpolate"]("nbTooltip",a["\u0275\u0275pipeBind1"](13,11,"Send"))}},directives:[u.u,u.t,d.o,u.L,p.c,p.z,p.r,p.u,u.q,u.ub,u.I,x,p.n,k.a,k.d,d.n,k.b,w.f],pipes:[g.c,w.h],styles:["[_nghost-%COMP%]   ngx-dropzone[_ngcontent-%COMP%]{border-radius:0;padding:.2rem .5rem .2rem 0;flex-wrap:wrap;align-items:baseline;background:#192038;cursor:pointer;color:#717386;border:2px dashed #101426}[_nghost-%COMP%]   ngx-dropzone-image-preview[_ngcontent-%COMP%]{height:100%;position:relative;margin:0 .5rem 0 0}[_nghost-%COMP%]   ngx-dropzone-image-preview[_ngcontent-%COMP%]     img{min-width:100px}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;padding:0 .3rem;text-align:left}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg{opacity:.8;height:72px;width:72px}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg circle{stroke:#807f7f;stroke-width:.5rem}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg circle.progress{stroke-width:.5rem;stroke:#fff}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     span{font-size:.7rem;color:#fff}[_nghost-%COMP%]     ngx-dropzone-remove-badge{z-index:10}[_nghost-%COMP%]     tag-input input{background-color:#192038;border-color:#101426;color:#fff}[_nghost-%COMP%]   tag-input[_ngcontent-%COMP%]{background-color:#192038;color:#fff;border-radius:.25rem;border:1px solid #101426}[_nghost-%COMP%]   tag-input[_ngcontent-%COMP%]     .ng2-tag-input{border:none}.error-text[_ngcontent-%COMP%]{color:red}  ng2-menu-item{height:100px!important}"]}),R)},gMuu:function(e,t,n){"use strict";function i(e){for(var t="",n="!@#$%~^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}n.d(t,"a",(function(){return i}))},kiHB:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("wd/R");function r(e,t){return function(n){var i=n.controls[t];i.errors&&!i.errors.mustMatch||i.setErrors(n.controls[e].value!==i.value?{mustMatch:!0}:null)}}function a(e,t,n){return function(r){var a=r.controls[e],o=r.controls[t],s=a.value,l=o.value;if(!o.errors||o.errors.mustMatch){if(console.log(l),n){var c=r.controls[n].value;s=i(c).hour(i(a.value).hour()).minutes(i(a.value).minutes()),l=i(c).hour(i(o.value).hour()).minutes(i(o.value).minutes())}i(s).isBefore(i(l))?o.setErrors(null):o.setErrors({mustAfter:!0})}}}},p0MU:function(t,n,i){"use strict";i.d(n,"a",(function(){return s}));var r=i("ofXK"),a=i("sYmb"),o=i("fXoL"),s=function(){var t=function t(){e(this,t)};return t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.c],a.b]}),t}()},xgyk:function(t,i,r){"use strict";r.d(i,"a",(function(){return w}));var a=r("fXoL"),o=r("3Pt+"),s=r("RS3s"),l=r("vqVJ"),c=r("aceb"),u=r("ofXK");function d(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",3),a["\u0275\u0275element"](1,"nb-icon",4),a["\u0275\u0275elementEnd"]())}var p,h=((p=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=a["\u0275\u0275defineComponent"]({type:p,selectors:[["ngx-child-cell-with-checkbox"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:4,consts:[[2,"position","relative","cursor","pointer"],["size","large",3,"title","picture","name"],["style","position:absolute; right: 0px; top: 0px;z-index:99;",4,"ngIf"],[2,"position","absolute","right","0px","top","0px","z-index","99"],["icon","checkmark-outline"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"nb-user",1),a["\u0275\u0275template"](2,d,2,0,"div",2),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("title",t.rowData.nameOfClass)("picture",t.rowData.photo)("name",t.rowData.first_name+" "+t.rowData.last_name),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.rowData.checked))},directives:[c.wb,u.o,c.I],styles:[""]}),p),f=r("sYmb"),m=function(e){return{disabled:e}};function g(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"nb-user",5),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](2),t=a["\u0275\u0275reference"](5);return e.open(t)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](3,m,i.isDisabled))("picture",i.selectedChilds[0].photo)("name",i.selectedChilds[0].first_name+" "+i.selectedChilds[0].last_name)}}function v(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275elementStart"](1,"nb-user",8),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](3),t=a["\u0275\u0275reference"](5);return e.open(t)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit,r=a["\u0275\u0275nextContext"](3);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](3,m,r.isDisabled))("picture",i.photo)("name",i.first_name+" "+i.last_name)}}function C(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",6),a["\u0275\u0275template"](1,v,2,5,"ng-container",7),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.selectedChilds)}}function b(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275template"](1,g,2,5,"ng-container",1),a["\u0275\u0275template"](2,C,2,1,"ng-template",null,4,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementContainerEnd"]()),2&e){var n=a["\u0275\u0275reference"](3),i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!i.isMulti)("ngIfElse",n)}}function y(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"nb-user",5),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=a["\u0275\u0275nextContext"](),t=a["\u0275\u0275reference"](5);return e.open(t)})),a["\u0275\u0275pipe"](1,"translate"),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275propertyInterpolate"]("name",a["\u0275\u0275pipeBind1"](1,3,i.title)),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](5,m,i.isDisabled))("picture",i.unknown_picture)}}function x(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"nb-card"),a["\u0275\u0275elementStart"](1,"nb-card-header"),a["\u0275\u0275text"](2),a["\u0275\u0275pipe"](3,"translate"),a["\u0275\u0275elementStart"](4,"button",9),a["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),a["\u0275\u0275elementStart"](5,"nb-icon",10),a["\u0275\u0275text"](6,"arrow-back-outline"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"nb-card-body",11),a["\u0275\u0275elementStart"](8,"div",12),a["\u0275\u0275elementStart"](9,"div",13),a["\u0275\u0275elementStart"](10,"input",14),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().searchWord=e}))("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSearchWordChange(e)})),a["\u0275\u0275pipe"](11,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"button",15),a["\u0275\u0275element"](13,"nb-icon",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"ng2-smart-table",17),a["\u0275\u0275listener"]("userRowSelect",(function(e){a["\u0275\u0275restoreView"](n);var i=t.dialogRef,r=a["\u0275\u0275nextContext"]();return r.onRowSelect(e),r.handleClose(i)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind1"](3,5,i.title)," "),a["\u0275\u0275advance"](8),a["\u0275\u0275propertyInterpolate"]("placeholder",a["\u0275\u0275pipeBind1"](11,7,"Search by name")),a["\u0275\u0275property"]("ngModel",i.searchWord),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("settings",i.settings)("source",i.childs_src)}}var k,w=((k=function(){function t(n){e(this,t),this.dialogService=n,this.unknown_picture=l.b,this.settings={actions:{add:!1,edit:!1,delete:!1,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},hideSubHeader:!0,hideHeader:!0,pager:{perPage:4},columns:{picture:{type:"custom",renderComponent:h}}},this.onChange=function(e){},this.onTouched=function(){},this.title="Select Child",this.isDisabled=!1,this.isMulti=!1,this.selectedChilds=[],this.childs_src=new s.a(this.childs)}return n(t,[{key:"ngOnChanges",value:function(e){"childs"in e&&this.childs&&this.childs_src.load(this.childs)}},{key:"ngOnInit",value:function(){this.isDisabled=this.disabled,this.initValue&&this.setSelectedChildData(this.initValue)}},{key:"onUserClick",value:function(){}},{key:"onRowSelect",value:function(e){if(this.isMulti){var t=this.selectedChilds.findIndex((function(t){return t.id==e.data.id}));-1!=t?(e.data.checked=!1,this.childs_src.update(e.data,e.data),this.selectedChilds.splice(t,1)):(e.data.checked=!0,this.childs_src.update(e.data,e.data),this.selectedChilds.push(e.data)),this.onChange(this.selectedChilds)}else this.selectedChilds.length>0?(this.selectedChilds.forEach((function(e){e.checked&&(e.checked=!1)})),this.selectedChilds[0]=e.data):this.selectedChilds.push(e.data),this.onChange(this.selectedChilds[0]);this.onTouched()}},{key:"handleClose",value:function(e){this.isMulti||e.close()}},{key:"onSearchWordChange",value:function(e){this.searchWord=e,this.searchWord?this.childs_src.setFilter([{field:"first_name",search:this.searchWord},{field:"last_name",search:this.searchWord}],!1):this.childs_src.setFilter(null)}},{key:"open",value:function(e){this.isDisabled||(this.dialogService.open(e),this.onTouched())}},{key:"setSelectedChildData",value:function(e){this.isMulti?this.selectedChilds=e:e&&(this.selectedChilds=[e])}},{key:"writeValue",value:function(e){this.setSelectedChildData(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}}]),t}()).\u0275fac=function(e){return new(e||k)(a["\u0275\u0275directiveInject"](c.G))},k.\u0275cmp=a["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-child-select"]],inputs:{childs:"childs",initValue:["value","initValue"],title:"title",disabled:"disabled",isMulti:["multi","isMulti"]},features:[a["\u0275\u0275ProvidersFeature"]([{provide:o.p,useExisting:Object(a.forwardRef)((function(){return k})),multi:!0}]),a["\u0275\u0275NgOnChangesFeature"]],decls:6,vars:2,consts:[[2,"cursor","pointer"],[4,"ngIf","ngIfElse"],["unknown",""],["dialog",""],["multi",""],["size","large",3,"ngClass","picture","name","click"],[1,"d-flex","align-items-center","flex-wrap"],[4,"ngFor","ngForOf"],["size","large",1,"mr-2",3,"ngClass","picture","name","click"],["nbTooltip","Back","nbButton","","ghost","",2,"float","right",3,"click"],["icon","close-outline",2,"color","white"],[2,"min-height","300px"],[1,"search-box"],[2,"display","flex"],["type","text","nbInput","","fullWidth","",3,"ngModel","placeholder","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],[3,"settings","source","userRowSelect"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275template"](1,b,4,2,"ng-container",1),a["\u0275\u0275template"](2,y,2,7,"ng-template",null,2,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](4,x,15,9,"ng-template",null,3,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275reference"](3);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",(null==t.selectedChilds?null:t.selectedChilds.length)>0)("ngIfElse",n)}},directives:[u.o,c.wb,u.m,u.n,c.u,c.x,c.q,c.I,c.t,c.L,o.c,o.r,o.u,s.b],pipes:[f.c],styles:[""]}),k)}}])}();