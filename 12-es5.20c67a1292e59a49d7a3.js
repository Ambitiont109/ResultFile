!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Klii:function(t,i,r){"use strict";r.r(i),r.d(i,"ExchangeLibraryModule",(function(){return T}));var o,a=r("ofXK"),l=r("tyNb"),c=r("AytR"),s=r("fXoL"),d=r("tk/3"),u=((o=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=c.a.API_URL}return n(t,[{key:"getAllBooks",value:function(){return this.httpClient.get(this.api_url+"/exchangelibraries/")}},{key:"addBook",value:function(e){var t=e,n=new FormData;return Object.keys(e).forEach((function(t){n.append(t,e[t])})),t.pictureFile&&n.set("picture",t.pictureFile),this.httpClient.post(this.api_url+"/exchangelibraries/",n)}},{key:"deleteBook",value:function(e){return this.httpClient.delete("".concat(this.api_url,"/exchangelibraries/").concat(e.id,"/"))}}]),t}()).\u0275fac=function(e){return new(e||o)(s["\u0275\u0275inject"](d.c))},o.\u0275prov=s["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=r("NdX7"),m=r("aceb"),f=r("3Pt+"),v=r("LJPP"),b=r("CHuZ"),h=r("sYmb");function g(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",18),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](2,1,"required")))}function x(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,g,3,3,"span",17),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.bookForm.get("title").errors.required)}}var k,y,S=function(e){return{"background-image":e}},E=((y=function(){function t(n){e(this,t),this.fb=n,this.submitEvent=new s.EventEmitter,this.isInvalidControl=b.a}return n(t,[{key:"ngOnInit",value:function(){this.bookForm=this.fb.group({title:["",f.B.required],picture:["",f.B.required],pictureFile:void 0,comment:["",f.B.nullValidator],status:[v.a.PRESENT,f.B.nullValidator]}),this.initdata?this.bookForm.reset(this.initdata):this.initdata={id:void 0,title:void 0,picture:void 0,status:v.a.PRESENT}}},{key:"changeListener",value:function(e){var t=this;if(console.log(e),e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.bookForm.get("picture").setValue(e.target.result)},this.bookForm.get("pictureFile").setValue(e.target.files[0]),n.readAsDataURL(e.target.files[0])}}},{key:"onFormSubmit",value:function(){this.bookForm.markAllAsTouched(),this.bookForm.valid&&(this.book=Object.assign(this.initdata,this.bookForm.value),this.submitEvent.emit(this.book))}},{key:"picture",get:function(){return this.bookForm.get("picture").value}}]),t}()).\u0275fac=function(e){return new(e||y)(s["\u0275\u0275directiveInject"](f.e))},y.\u0275cmp=s["\u0275\u0275defineComponent"]({type:y,selectors:[["ngx-book-form"]],inputs:{initdata:"initdata"},outputs:{submitEvent:"onSubmit"},decls:30,vars:21,consts:[[1,"row","justify-content-center"],[1,"col-lg-6"],[3,"formGroup","ngSubmit"],[1,"form-group","row","justify-content-center"],[1,"col-sm-4","avatar"],[1,"content",3,"ngStyle"],[1,"select-file"],[2,"position","relative","height","100%"],["icon","edit-outline",2,"color","white"],["type","file","accept","image/*",1,"file-input",3,"change"],[1,"form-group"],[1,"label","mr-4"],["nbInput","","type","text","formControlName","title",3,"placeholder","status"],[4,"ngIf"],[1,"label"],["nbInput","","rows","5","fullWidth","","formControlName","comment",3,"placeholder"],["nbInput","","type","submit","value","Add",2,"float","right"],["class","error-text",4,"ngIf"],[1,"error-text"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header"),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"form",2),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onFormSubmit()})),s["\u0275\u0275elementStart"](8,"div",3),s["\u0275\u0275elementStart"](9,"div",4),s["\u0275\u0275element"](10,"div",5),s["\u0275\u0275elementStart"](11,"div",6),s["\u0275\u0275elementStart"](12,"div",7),s["\u0275\u0275elementStart"](13,"nb-icon",8),s["\u0275\u0275text"](14,"arrow-back-outline"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"input",9),s["\u0275\u0275listener"]("change",(function(e){return t.changeListener(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",10),s["\u0275\u0275elementStart"](17,"label",11),s["\u0275\u0275text"](18),s["\u0275\u0275pipe"](19,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"input",12),s["\u0275\u0275pipe"](21,"translate"),s["\u0275\u0275template"](22,x,2,1,"div",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",10),s["\u0275\u0275elementStart"](24,"label",14),s["\u0275\u0275text"](25),s["\u0275\u0275pipe"](26,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](27,"textarea",15),s["\u0275\u0275pipe"](28,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](29,"input",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](5,9,"New Book")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("formGroup",t.bookForm),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngStyle",s["\u0275\u0275pureFunction1"](19,S,"url("+t.picture+")")),s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](19,11,"Title")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate"]("placeholder",s["\u0275\u0275pipeBind1"](21,13,"Title")),s["\u0275\u0275property"]("status",t.isInvalidControl(t.bookForm,"title")?"danger":"basic"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.isInvalidControl(t.bookForm,"title")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](26,15,"Comment")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate"]("placeholder",s["\u0275\u0275pipeBind1"](28,17,"comment")))},directives:[m.u,m.x,m.t,f.D,f.s,f.j,a.p,m.I,m.L,f.c,f.r,f.h,a.o],pipes:[h.c],styles:[".avatar[_ngcontent-%COMP%]{max-width:250px}.avatar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;position:relative;padding-top:100%;background-size:cover;background-repeat:no-repeat;border-radius:10px;box-shadow:0 0 5px .5px #fff}.avatar[_ngcontent-%COMP%]   .select-file[_ngcontent-%COMP%]{position:absolute;right:-10px;top:40%;width:50px;height:50px}.avatar[_ngcontent-%COMP%]   .select-file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;cursor:pointer}.avatar[_ngcontent-%COMP%]   .select-file[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{width:100%;height:100%;padding:10px;border-radius:50%;background-color:#2e3e6d;cursor:pointer}.error-text[_ngcontent-%COMP%]{color:red}"]}),y),w=((k=function(){function t(n,i,r,o){e(this,t),this.exchangeLibraryService=n,this.toastSerivce=i,this.route=r,this.router=o}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this;this.exchangeLibraryService.addBook(e).subscribe((function(e){t.toastSerivce.success("New Book has been added","success"),t.back()}))}},{key:"back",value:function(){this.router.navigate([".."],{relativeTo:this.route})}}]),t}()).\u0275fac=function(e){return new(e||k)(s["\u0275\u0275directiveInject"](u),s["\u0275\u0275directiveInject"](p.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](l.c))},k.\u0275cmp=s["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-add-book"]],decls:10,vars:6,consts:[["nbButton","","ghost","",3,"nbTooltip","click"],["icon","arrow-back-outline",2,"color","white"],[3,"onSubmit"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"button",0),s["\u0275\u0275listener"]("click",(function(){return t.back()})),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementStart"](4,"nb-icon",1),s["\u0275\u0275text"](5,"arrow-back-outline"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6),s["\u0275\u0275pipe"](7,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-card-body"),s["\u0275\u0275elementStart"](9,"ngx-book-form",2),s["\u0275\u0275listener"]("onSubmit",(function(e){return t.onSubmit(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate"]("nbTooltip",s["\u0275\u0275pipeBind1"](3,2,"Back")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](7,4,"New Book")," "))},directives:[m.u,m.x,m.q,m.ub,m.I,m.t,E],pipes:[h.c],styles:[""]}),k),I=r("cSNu");function C(e,t){1&e&&s["\u0275\u0275element"](0,"nb-badge",21)}function B(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275elementStart"](1,"div",23),s["\u0275\u0275text"](2),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"nb-user",24),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](3,3,"Child")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("picture",n.child.photo)("name",n.child.first_name+" "+n.child.last_name)}}var j=function(e){return{"background-image":e}};function O(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",8),s["\u0275\u0275elementStart"](1,"div",9),s["\u0275\u0275elementStart"](2,"div",10),s["\u0275\u0275elementStart"](3,"div",11),s["\u0275\u0275element"](4,"div",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",13),s["\u0275\u0275elementStart"](6,"div",14),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"translate"),s["\u0275\u0275elementStart"](9,"span",15),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",16),s["\u0275\u0275elementStart"](12,"button",17),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteClick(e)})),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](15,C,1,0,"nb-badge",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",19),s["\u0275\u0275text"](17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,B,5,5,"div",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngStyle",s["\u0275\u0275pureFunction1"](11,j,"url("+i.picture+")")),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](8,7,"Title"),": "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](i.title),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](14,9,"DELETE"),""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",r.isBooked(i)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",i.comment," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.isBooked(i))}}var M,P,_,F=[{path:"",component:(M=function(){function t(n,i,r,o,a){e(this,t),this.exchangeLibraryService=n,this.router=i,this.route=r,this.dialogService=o,this.toastService=a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.exchangeLibraryService.getAllBooks().subscribe((function(t){e.books=t,e.filteredbooks=e.books}))}},{key:"onSearchWordChange",value:function(e){var t=this;this.filteredbooks=this.books.filter((function(e){return e.title.includes(t.searchWord)}))}},{key:"newExchangeLibraryClick",value:function(){this.router.navigate(["new"],{relativeTo:this.route})}},{key:"onDeleteClick",value:function(e){var t=this;this.dialogService.open(I.a,{context:{title:"Are you sure?"}}).onClose.subscribe((function(n){1==n&&t.exchangeLibraryService.deleteBook(e).subscribe((function(n){t.books=t.books.reduce((function(t,n){return n.id!=e.id&&t.push(n),t}),[]),t.filteredbooks=t.books,t.toastService.success("Book has been deleted","success")}))}))}},{key:"isBooked",value:function(e){return e.status==v.a.RENTED}}]),t}(),M.\u0275fac=function(e){return new(e||M)(s["\u0275\u0275directiveInject"](u),s["\u0275\u0275directiveInject"](l.c),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](m.G),s["\u0275\u0275directiveInject"](p.a))},M.\u0275cmp=s["\u0275\u0275defineComponent"]({type:M,selectors:[["ngx-exchange-library"]],decls:18,vars:14,consts:[[1,"d-flex","align-items-center","justify-content-between"],["nbButton","","status","info",3,"nbTooltip","click"],[1,"search-box","mb-2"],[2,"display","flex","justify-content","flex-end"],["type","text","nbInput","",3,"ngModel","placeholder","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"ml-3","mt-2","w-100"],[1,"d-flex","flex-wrap","align-items-center"],[1,"avatar","ml-2"],[1,"content",3,"ngStyle"],[1,"text-1","ml-2"],[1,"date-text"],[1,"text-primary"],[1,"ml-auto"],["nbButton","","ghost","",3,"click"],["text","Booked","status","danger","position","top left",4,"ngIf"],[1,"mt-2","text-1"],["class","d-flex mt-2 flex-wrap align-items-center ",4,"ngIf"],["text","Booked","status","danger","position","top left"],[1,"d-flex","mt-2","flex-wrap","align-items-center"],[1,"text-1","date-text","mr-4"],[3,"picture","name"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementStart"](5,"button",1),s["\u0275\u0275listener"]("click",(function(){return t.newExchangeLibraryClick()})),s["\u0275\u0275pipe"](6,"translate"),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"div",2),s["\u0275\u0275elementStart"](11,"div",3),s["\u0275\u0275elementStart"](12,"input",4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchWord=e}))("ngModelChange",(function(e){return t.onSearchWordChange(e)})),s["\u0275\u0275pipe"](13,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"button",5),s["\u0275\u0275element"](15,"nb-icon",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"nb-list"),s["\u0275\u0275template"](17,O,19,13,"nb-list-item",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](4,6,"Exchange Library")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate"]("nbTooltip",s["\u0275\u0275pipeBind1"](6,8,"New Book")),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](8,10,"New Book")," "),s["\u0275\u0275advance"](5),s["\u0275\u0275propertyInterpolate"]("placeholder",s["\u0275\u0275pipeBind1"](13,12,"Search by name")),s["\u0275\u0275property"]("ngModel",t.searchWord),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngForOf",t.filteredbooks))},directives:[m.u,m.x,m.q,m.ub,m.t,m.L,f.c,f.r,f.u,m.I,m.U,a.n,m.V,a.p,a.o,m.o,m.wb],pipes:[h.c],styles:[".avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;position:relative;padding-top:100%;background-size:cover;background-repeat:no-repeat;border-radius:10px;box-shadow:0 0 5px .5px #fff}nb-list-item[_ngcontent-%COMP%]   .text-1[_ngcontent-%COMP%]{font-size:small;color:grey}nb-list-item[_ngcontent-%COMP%]   .date-text[_ngcontent-%COMP%]{font-size:medium}"]}),M)},{path:"new",component:w}],L=((P=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||P)},imports:[[l.g.forChild(F)],l.g]}),P),N=r("p0MU"),T=((_=function t(){e(this,t)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:_}),_.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||_)},imports:[[a.c,a.c,m.y,m.M,m.W,f.l,f.y,m.r,m.K,m.vb,m.f,m.xb,m.p,N.a,L]]}),_)},NdX7:function(t,i,r){"use strict";r.d(i,"a",(function(){return s}));var o=r("cp0P"),a=r("fXoL"),l=r("sYmb"),c=r("aceb"),s=function(){var t=function(){function t(n,i){e(this,t),this.translateService=n,this.toastrService=i}return n(t,[{key:"success",value:function(e,t){var n=this;Object(o.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.success(e.msg,e.title)}))}},{key:"show",value:function(e,t){var n=this;Object(o.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.show(e.msg,e.title)}))}},{key:"info",value:function(e,t){var n=this;Object(o.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.info(e.msg,e.title)}))}},{key:"warning",value:function(e,t){var n=this;Object(o.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.warning(e.msg,e.title)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](l.d),a["\u0275\u0275inject"](c.rb))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();