!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+R3+":function(t,r,i){"use strict";i.d(r,"a",(function(){return u}));var o=i("AytR"),a=i("LRne"),s=i("GHal"),c=i("fXoL"),l=i("tk/3"),u=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=o.a.API_URL}return n(t,[{key:"addFood",value:function(e){return s.f.push(e),Object(a.a)("suc")}},{key:"updateFood",value:function(e){return Object(a.a)("suc")}},{key:"deleteFoodFromMenu",value:function(e,t,n){return Object(a.a)("suc")}},{key:"getAllMenuInformation",value:function(){return Object(a.a)(s.g)}},{key:"addFoodToMenu",value:function(e,t,n){return Object(a.a)(s.g)}},{key:"getAllFoods",value:function(){return Object(a.a)(s.f)}},{key:"getFoodById",value:function(e){return Object(a.a)(s.f[e])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](l.b))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"7njR":function(t,r,i){"use strict";i.d(r,"a",(function(){return u}));var o=i("AytR"),a=i("LRne"),s=i("GHal"),c=i("3Ksp"),l=i("fXoL"),u=function(){var t=function(){function t(){e(this,t),this.api_url=o.a.API_URL}return n(t,[{key:"createBlankAppointment",value:function(){return{id:-1,title:"",color:c.c.Red,parent:void 0,teacher:void 0,start:void 0,end:void 0,status:c.a.PENDING,child:void 0,type:c.b.FREE}}},{key:"getEventsByUserId",value:function(e){return Object(a.a)(s.a)}},{key:"getEventsOfCurrentUser",value:function(){return Object(a.a)(s.a)}},{key:"patchEvent",value:function(e,t){return Object.assign(e,t),Object(a.a)("")}},{key:"getEventById",value:function(e){return Object(a.a)(s.a[e])}},{key:"deleteEventById",value:function(e){return s.a.splice(e,1),Object(a.a)("success")}},{key:"StartPreset",value:function(e){return e.id=s.j.length,e.isClosed=!1,s.j.push(e),console.log(s.j),Object(a.a)("success")}},{key:"GetCurrentPreset",value:function(){return console.log(s.j),Object(a.a)(s.j[s.j.length-1])}},{key:"GetPresetAppointmentsByUserIdList",value:function(e){return Object(a.a)([])}},{key:"GetPresetAppointments",value:function(e,t){return Object(a.a)([])}},{key:"GetPresetAppointmentsFromAppointment",value:function(e){var t=s.a.filter((function(e){return e.type==c.b.PRESET}));return Object(a.a)(t)}},{key:"CloseCurrentPreset",value:function(e){return s.j[e].isClosed=!0,Object(a.a)("success")}},{key:"UpdateEventById",value:function(e){var t=s.a.find((function(t){return t.id==e.id}));return t&&Object.assign(t,e),Object(a.a)(t)}},{key:"CreateEvent",value:function(e){if(e.type==c.b.PRESET)e.color=c.c.Preset;else{var t=[];for(var n in c.c)console.log(n),c.c[n]!=c.c.Preset&&t.push(c.c[n]);e.color=t[Math.floor(Math.random()*t.length)]}return e.id=s.a.length,s.a.push(e),Object(a.a)("success")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},B3Wl:function(t,r,i){"use strict";i.d(r,"a",(function(){return u}));var o=i("AytR"),a=i("LRne"),s=i("GHal"),c=i("fXoL"),l=i("tk/3"),u=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=o.a.API_URL}return n(t,[{key:"getDocuments",value:function(){return Object(a.a)(s.e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](l.b))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},CHuZ:function(e,t,n){"use strict";function r(e,t){var n=e.get(t);return n.invalid&&(n.dirty||n.touched)}n.d(t,"a",(function(){return r}))},EZvT:function(t,r,i){"use strict";i.d(r,"a",(function(){return u}));var o=i("AytR"),a=i("LRne"),s=i("GHal"),c=i("fXoL"),l=i("tk/3"),u=function(){var t=function(){function t(n){e(this,t),this.httpClient=n,this.api_url=o.a.API_URL}return n(t,[{key:"getPicturesOfChild",value:function(e){var t={child:void 0,pictures:[]};return t.child=s.c.find((function(t){return t.id==e})),t.pictures=s.i,Object(a.a)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](l.b))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},RbqP:function(t,r,i){"use strict";i.d(r,"a",(function(){return x}));var o=i("fXoL"),a=i("vqVJ"),s=i("RS3s"),c=i("3Pt+"),l=i("aceb"),u=i("ofXK");function d(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275element"](1,"nb-icon",4),o["\u0275\u0275elementEnd"]())}var p,f=((p=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.rowData.checked=!this.rowData.checked||!this.rowData.checked}}]),t}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=o["\u0275\u0275defineComponent"]({type:p,selectors:[["ngx-cell-avatar-with-check-box"]],inputs:{value:"value",rowData:"rowData"},decls:3,vars:3,consts:[[2,"position","relative"],["size","large",3,"picture","name","click"],["style","position:absolute; right: 0px; top: 0px;z-index:99;",4,"ngIf"],[2,"position","absolute","right","0px","top","0px","z-index","99"],["icon","checkmark-outline"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"nb-user",1),o["\u0275\u0275listener"]("click",(function(){return t.onClick()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](2,d,2,0,"div",2),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("picture",t.rowData.picture)("name",t.rowData.first_name+" "+t.rowData.last_name),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.rowData.checked))},directives:[l.Ab,u.o,l.I],styles:[""]}),p),h=function(e){return{disabled:e}};function g(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"nb-user",4),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"](2),t=o["\u0275\u0275reference"](4);return e.open(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,h,r.isDisabled))("picture",r.selectedUsers[0].picture)("name",r.selectedUsers[0].first_name+" "+r.selectedUsers[0].last_name)}}function m(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"nb-user",7),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"](3),t=o["\u0275\u0275reference"](4);return e.open(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,h,i.isDisabled))("picture",r.picture)("name",r.first_name+" "+r.last_name)}}function v(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275template"](1,m,2,5,"ng-container",6),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.selectedUsers)}}function b(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,g,2,5,"ng-container",0),o["\u0275\u0275template"](2,v,2,1,"ng-template",null,3,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=o["\u0275\u0275reference"](3),r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!r.isMulti)("ngIfElse",n)}}function y(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"nb-user",4),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](4);return e.open(t)})),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,h,r.isDisabled))("picture",r.unknown_picture)("name","Select User")}}function C(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-header"),o["\u0275\u0275text"](2),o["\u0275\u0275elementStart"](3,"button",8),o["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),o["\u0275\u0275elementStart"](4,"nb-icon",9),o["\u0275\u0275text"](5,"arrow-back-outline"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"nb-card-body",10),o["\u0275\u0275elementStart"](7,"div",11),o["\u0275\u0275elementStart"](8,"div",12),o["\u0275\u0275elementStart"](9,"input",13),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().searchWord=e}))("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().onSearchWordChange(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"button",14),o["\u0275\u0275element"](11,"nb-icon",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"ng2-smart-table",16),o["\u0275\u0275listener"]("userRowSelect",(function(e){o["\u0275\u0275restoreView"](n);var r=t.dialogRef,i=o["\u0275\u0275nextContext"]();return i.onRowSelect(e),i.handleClose(r)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",r.title," "),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",r.searchWord),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("settings",r.settings)("source",r.users_src)}}var k,x=((k=function(){function t(n){e(this,t),this.dialogService=n,this.unknown_picture=a.b,this.settings={actions:{add:!1,edit:!1,delete:!1,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},hideSubHeader:!0,hideHeader:!0,pager:{perPage:4},columns:{picture:{type:"custom",renderComponent:f}}},this.onChange=function(e){},this.onTouched=function(){},this.title="Select User",this.isDisabled=!1,this.isMulti=!1,this.selectedUsers=[]}return n(t,[{key:"ngOnInit",value:function(){this.users_src=new s.a(this.users),this.isDisabled=this.disabled,this.initValue&&this.setSelectedUserData(this.initValue)}},{key:"onUserClick",value:function(){}},{key:"onRowSelect",value:function(e){if(this.isMulti){var t=this.selectedUsers.findIndex((function(t){return t.id==e.data.id}));-1!=t?this.selectedUsers.splice(t,1):this.selectedUsers.push(e.data),this.onChange(this.selectedUsers)}else this.selectedUsers.length>0?(this.selectedUsers.forEach((function(e){e.checked&&(e.checked=!1)})),this.selectedUsers[0]=e.data):this.selectedUsers.push(e.data),this.onChange(this.selectedUsers[0]);this.onTouched()}},{key:"handleClose",value:function(e){this.isMulti||e.close()}},{key:"onSearchWordChange",value:function(e){this.searchWord=e,this.searchWord?this.users_src.setFilter([{field:"first_name",search:this.searchWord},{field:"last_name",search:this.searchWord}],!1):this.users_src.setFilter(null)}},{key:"open",value:function(e){this.isDisabled||(this.dialogService.open(e),this.onTouched())}},{key:"setSelectedUserData",value:function(e){this.isMulti?this.selectedUsers=e:e&&(this.selectedUsers=[e])}},{key:"writeValue",value:function(e){this.setSelectedUserData(e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.isDisabled=e}}]),t}()).\u0275fac=function(e){return new(e||k)(o["\u0275\u0275directiveInject"](l.F))},k.\u0275cmp=o["\u0275\u0275defineComponent"]({type:k,selectors:[["ngx-user-select"]],inputs:{users:"users",initValue:["value","initValue"],title:"title",disabled:"disabled",isMulti:["multi","isMulti"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:c.p,useExisting:Object(o.forwardRef)((function(){return k})),multi:!0}])],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["unknown",""],["dialog",""],["multi",""],["size","large",3,"ngClass","picture","name","click"],[1,"d-flex","align-items-center","flex-wrap"],[4,"ngFor","ngForOf"],["size","large",1,"mr-2",3,"ngClass","picture","name","click"],["nbTooltip","Back","nbButton","","ghost","",2,"float","right",3,"click"],["icon","close-outline",2,"color","white"],[2,"min-height","300px"],[1,"search-box"],[2,"display","flex"],["type","text","nbInput","","fullWidth","","placeholder","Search by name",3,"ngModel","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],[3,"settings","source","userRowSelect"]],template:function(e,t){if(1&e&&(o["\u0275\u0275template"](0,b,4,2,"ng-container",0),o["\u0275\u0275template"](1,y,1,5,"ng-template",null,1,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](3,C,13,4,"ng-template",null,2,o["\u0275\u0275templateRefExtractor"])),2&e){var n=o["\u0275\u0275reference"](2);o["\u0275\u0275property"]("ngIf",(null==t.selectedUsers?null:t.selectedUsers.length)>0)("ngIfElse",n)}},directives:[u.o,l.Ab,u.m,u.n,l.t,l.w,l.p,l.yb,l.I,l.s,l.L,c.c,c.r,c.u,s.b],styles:["nb-user[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}"]}),k)},Rqib:function(t,n,r){"use strict";r.d(n,"a",(function(){return l}));var i=r("ofXK"),o=r("RS3s"),a=r("3Pt+"),s=r("aceb"),c=r("fXoL"),l=function(){var t=function t(){e(this,t)};return t.\u0275mod=c["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.c,a.l,s.M,s.K,s.q,s.Bb,o.c]]}),t}()},TUgJ:function(t,r,i){"use strict";i.d(r,"a",(function(){return s}));var o=i("fXoL"),a=i("aceb"),s=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){console.log(this.rowData)}},{key:"onClick",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-cell-avatar"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:2,consts:[[2,"position","relative"],["size","large",3,"picture","name","click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"nb-user",1),o["\u0275\u0275listener"]("click",(function(){return t.onClick()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("picture",t.rowData.picture)("name",t.rowData.first_name+" "+t.rowData.last_name))},directives:[a.Ab],styles:[""]}),t}()},XXKh:function(t,r,i){"use strict";i.d(r,"a",(function(){return l}));var o=i("GHal"),a=i("LRne"),s=i("CWoy"),c=i("fXoL"),l=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"getAdminHeaderMessage",value:function(){return Object(a.a)(o.h)}},{key:"getMessagesByUser",value:function(e){return Object(a.a)(o.h)}},{key:"getMessageLinked",value:function(e){return Object(a.a)(o.d)}},{key:"sendMessage",value:function(e,t,n){}},{key:"getSenderName",value:function(e){switch(e.senderRole){case s.a.Admin:return"Admin Center";case s.a.Parent:return e.child.first_name+" "+e.child.last_name;case s.a.Teacher:return e.user.first_name+" "+e.user.last_name}}},{key:"getReceiverName",value:function(e){return e.senderRole!=s.a.Parent?e.child.first_name+" "+e.child.last_name:e.user.role==s.a.Admin?"Admin Center":e.user.role==s.a.Teacher?e.user.first_name+" "+e.user.last_name:void 0}},{key:"getSenderPhotoUrl",value:function(e){return e.senderRole==s.a.Parent?e.child.photo:e.user.picture}},{key:"getReceiverPhotoUrl",value:function(e){return e.senderRole==s.a.Parent?e.user.picture:e.child.photo}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},dEvH:function(t,r,i){"use strict";i.d(r,"a",(function(){return p}));var o,a,s=i("fXoL"),c=i("RS3s"),l=i("aceb"),u=((o=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){console.log(this.rowData)}},{key:"onClick",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=s["\u0275\u0275defineComponent"]({type:o,selectors:[["ngx-child-cell"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:2,consts:[[2,"position","relative"],["size","large",3,"picture","name","click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"nb-user",1),s["\u0275\u0275listener"]("click",(function(){return t.onClick()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("picture",t.rowData.photo)("name",t.rowData.first_name+" "+t.rowData.last_name))},directives:[l.Ab],styles:[""]}),o),d=i("3Pt+"),p=((a=function(){function t(){e(this,t),this.onSelectEvent=new s.EventEmitter,this.parents=[],this.settings={actions:{add:!1,edit:!1,delete:!1,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},hideSubHeader:!0,hideHeader:!0,pager:{perPage:4},columns:{picture:{type:"custom",renderComponent:u}}},this.parent_src=new c.a}return n(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.data&&(this.parents=this.data,this.parent_src.load(this.parents))}},{key:"onSearchWordChange",value:function(e){this.searchWord=e,this.searchWord?this.parent_src.setFilter([{field:"first_name",search:this.searchWord},{field:"last_name",search:this.searchWord}],!1):this.parent_src.setFilter(null)}},{key:"onRowSelect",value:function(e){var t=e.data;console.log(t),this.onSelectEvent.emit(t)}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:a,selectors:[["ngx-child-list"]],inputs:{data:"data"},outputs:{onSelectEvent:"onselect"},decls:6,vars:3,consts:[[1,"search-box","mb-2"],[2,"display","flex","justify-content","flex-end"],["type","text","nbInput","","placeholder","Search by name",3,"ngModel","ngModelChange"],["type","button","nbButton","","status","primary"],["icon","search-outline",1,"action-icon"],[3,"settings","source","userRowSelect"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"input",2),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchWord=e}))("ngModelChange",(function(e){return t.onSearchWordChange(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"button",3),s["\u0275\u0275element"](4,"nb-icon",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"ng2-smart-table",5),s["\u0275\u0275listener"]("userRowSelect",(function(e){return t.onRowSelect(e)})),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngModel",t.searchWord),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("settings",t.settings)("source",t.parent_src))},directives:[l.L,d.c,d.r,d.u,l.p,l.I,c.b],styles:[""]}),a)},fUYe:function(t,r,i){"use strict";i.d(r,"a",(function(){return S}));var o=i("fXoL"),a=i("/aQt"),s=i("vqVJ"),c=i("CWoy"),l=i("aceb"),u=i("ofXK"),d=i("3Pt+"),p=i("LRne"),f=["autoInput"];function h(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275text"](2),o["\u0275\u0275elementStart"](3,"nb-icon",9),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"]().onRemove(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",r.email," ")}}function g(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"nb-option",10),o["\u0275\u0275element"](1,"nb-user",11),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275property"]("value",n),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("name",n.first_name+" "+n.last_name)("title",n.email)("picture",n.picture)}}var m,v=((m=function(){function t(n){e(this,t),this.userService=n,this.multi=!0,this.usertype=c.a.Parent}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.selectedUser=[],this.options=[],this.usertype==c.a.Parent&&(this.filteredOptions$=this.userService.getParents(),this.userService.getParents().subscribe((function(t){e.users=t}))),this.usertype==c.a.Teacher&&(this.filteredOptions$=this.userService.getTeachers(),this.userService.getTeachers().subscribe((function(t){e.users=t})))}},{key:"filter",value:function(e){var t=e.toLowerCase();return this.options.filter((function(e){return e.toLowerCase().includes(t)}))}},{key:"getFilteredOptions",value:function(e){var t,n=e.toLowerCase();return t=this.users.filter((function(e){return!(!e.first_name.toLowerCase().includes(n)&&!e.last_name.toLowerCase().includes(n))})),Object(p.a)(t)}},{key:"onSearchKeyChange",value:function(){this.filteredOptions$=this.getFilteredOptions(this.input.nativeElement.value)}},{key:"onSelectionChange",value:function(e){this.multi?(this.selectedUser.findIndex((function(t){return t.id==e.id}))>=0||this.selectedUser.push(e),this.emitChanges(this.selectedUser)):(this.selectedUser=[e],this.emitChanges(e)),this.input.nativeElement.value=""}},{key:"emitChanges",value:function(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}},{key:"onRemove",value:function(e){var t=this.selectedUser.findIndex((function(t){return t.id==e.id}));console.log(this.selectedUser),console.log(t),this.selectedUser.splice(t,1)}},{key:"writeValue",value:function(e){this.selectedUser=this.multi?e:e?[e]:[]}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){}}]),t}()).\u0275fac=function(e){return new(e||m)(o["\u0275\u0275directiveInject"](s.a))},m.\u0275cmp=o["\u0275\u0275defineComponent"]({type:m,selectors:[["ngx-tag-input"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275viewQuery"](f,!0),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.input=n.first)},inputs:{multi:"multi",usertype:"usertype"},decls:8,vars:5,consts:[[1,"d-flex","flex-wrap","input-style","align-items-center"],["class","tag mr-2",4,"ngFor","ngForOf"],["nbInput","","type","text",1,"flex-grow-1",3,"nbAutocomplete","input"],["autoInput",""],[3,"selectedChange"],["auto",""],[3,"value",4,"ngFor","ngForOf"],[1,"tag","mr-2"],[1,"tag-content"],["icon","close-outline",3,"click"],[3,"value"],["size","medium",3,"name","title","picture"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,h,4,1,"div",1),o["\u0275\u0275elementStart"](2,"input",2,3),o["\u0275\u0275listener"]("input",(function(){return t.onSearchKeyChange()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"nb-autocomplete",4,5),o["\u0275\u0275listener"]("selectedChange",(function(e){return t.onSelectionChange(e)})),o["\u0275\u0275template"](6,g,2,4,"nb-option",6),o["\u0275\u0275pipe"](7,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275reference"](5);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.selectedUser),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("nbAutocomplete",n),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](7,3,t.filteredOptions$))}},directives:[u.n,l.L,l.l,l.k,l.I,l.bb,l.Ab],pipes:[u.b],styles:["::-webkit-scrollbar{width:.3125rem;height:.3125rem}  ::-webkit-scrollbar-thumb{background:#101426;cursor:pointer;border-radius:.15625rem}  ::-webkit-scrollbar-track{background:#192038}[_nghost-%COMP%]   .input-style[_ngcontent-%COMP%]{background-color:#192038;color:#fff;border-radius:.25rem;border:1px solid #101426}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;max-width:none!important}[_nghost-%COMP%]   .flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]{border:1px solid #fff;border-radius:10px;margin-left:5px;margin-top:5px}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-content[_ngcontent-%COMP%]{padding-left:3px;padding-bottom:3px}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),m),b=i("kvL/"),y=i("EwH2");function C(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275elementStart"](2,"label",9),o["\u0275\u0275text"](3," From:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"input",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",8),o["\u0275\u0275elementStart"](6,"label",9),o["\u0275\u0275text"](7," To:"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"ngx-tag-input",11),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().to_contacts=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",r.from_string),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",r.to_contacts)}}function k(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"ngx-dropzone-image-preview",17),o["\u0275\u0275listener"]("removed",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).onRemove(e)})),o["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),o["\u0275\u0275elementStart"](2,"span",18),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"stateToString"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"ngx-file-upload-ui--progressbar-circle",19),o["\u0275\u0275elementStart"](6,"span",9),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;o["\u0275\u0275property"]("file",r.data.raw)("removable",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"](" ",r.data.state," State: ",o["\u0275\u0275pipeBind1"](4,7,r.data.state)," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("progress",r.data.progress)("parts",12),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",r.data.name," ")}}function x(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",12),o["\u0275\u0275elementStart"](1,"button",13),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().isAttached=!1})),o["\u0275\u0275element"](2,"nb-icon",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"ngx-dropzone",15),o["\u0275\u0275listener"]("change",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().onSelect(e)})),o["\u0275\u0275elementStart"](4,"ngx-dropzone-label"),o["\u0275\u0275text"](5,"Drop or Browse"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,k,8,9,"ngx-dropzone-image-preview",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("accept","image/*"),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",r.uploads)}}var w,S=((w=function(){function t(n,r){e(this,t),this.uploadFactory=n,this.userService=r,this.onSendEvent=new o.EventEmitter,this.uploads=[],this.storage=new a.d({concurrentUploads:2,autoStart:!0,removeCompleted:1e3}),this.uploadOptions={url:"http://localhost:3000/upload"},this.isReplyMode=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.isAttached=!1,this.storage.change().subscribe((function(t){e.uploads=t})),this.userService.getParents().subscribe((function(t){e.users=t})),this.from_string=""}},{key:"send",value:function(){this.onSendEvent.emit({to_contacts:this.to_contacts,content:this.content,isAttached:this.isAttached})}}]),t}()).\u0275fac=function(e){return new(e||w)(o["\u0275\u0275directiveInject"](a.b),o["\u0275\u0275directiveInject"](s.a))},w.\u0275cmp=o["\u0275\u0275defineComponent"]({type:w,selectors:[["ngx-reply"]],inputs:{isReplyMode:"isReplyMode",from_string:"from_string"},outputs:{onSendEvent:"onsend"},decls:10,vars:3,consts:[[4,"ngIf"],["nbInput","","rows","5","fullWidth","","placeholder","Write your Reply",3,"ngModel","ngModelChange"],["style","position: relative;",4,"ngIf"],[1,"row","justify-content-end"],["nbTooltip","AttachPicture","nbButton","","ghost","",3,"click"],["icon","attach-outline",2,"color","white"],["nbTooltip","Send","nbButton","","ghost","",3,"click"],["icon","paper-plane-outline",2,"color","white"],[1,"form-group"],[1,"label"],["nbInput","","type","text","fullWidth","","disabled","",3,"ngModel"],[3,"ngModel","ngModelChange"],[2,"position","relative"],["nbButton","","ghost","",2,"position","absolute","right","5px","top","5px",3,"click"],["icon","close-outline"],[3,"accept","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[1,"state"],[3,"progress","parts"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"nb-card"),o["\u0275\u0275elementStart"](1,"nb-card-body"),o["\u0275\u0275template"](2,C,9,2,"ng-container",0),o["\u0275\u0275elementStart"](3,"textarea",1),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.content=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,x,7,2,"div",2),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275elementStart"](6,"button",4),o["\u0275\u0275listener"]("click",(function(){return t.isAttached=!t.isAttached})),o["\u0275\u0275element"](7,"nb-icon",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"button",6),o["\u0275\u0275listener"]("click",(function(){return t.send()})),o["\u0275\u0275element"](9,"nb-icon",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.isReplyMode),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",t.content),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.isAttached))},directives:[l.t,l.s,u.o,l.L,d.c,d.r,d.u,l.p,l.yb,l.I,v,b.a,b.d,u.n,b.b,y.f],pipes:[y.h],styles:["[_nghost-%COMP%]   ngx-dropzone[_ngcontent-%COMP%]{border-radius:0;padding:.2rem .5rem .2rem 0;flex-wrap:wrap;align-items:baseline;background:#192038;cursor:pointer;color:#717386;border:2px dashed #101426}[_nghost-%COMP%]   ngx-dropzone-image-preview[_ngcontent-%COMP%]{height:100%;position:relative;margin:0 .5rem 0 0}[_nghost-%COMP%]   ngx-dropzone-image-preview[_ngcontent-%COMP%]     img{min-width:100px}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;padding:0 .3rem;text-align:left}[_nghost-%COMP%]   ngx-dropzone-label[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg{opacity:.8;height:72px;width:72px}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg circle{stroke:#807f7f;stroke-width:.5rem}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     svg circle.progress{stroke-width:.5rem;stroke:#fff}[_nghost-%COMP%]   ngx-file-upload-ui--progressbar-circle[_ngcontent-%COMP%]     span{font-size:.7rem;color:#fff}[_nghost-%COMP%]     ngx-dropzone-remove-badge{z-index:10}[_nghost-%COMP%]     tag-input input{background-color:#192038;border-color:#101426;color:#fff}[_nghost-%COMP%]   tag-input[_ngcontent-%COMP%]{background-color:#192038;color:#fff;border-radius:.25rem;border:1px solid #101426}[_nghost-%COMP%]   tag-input[_ngcontent-%COMP%]     .ng2-tag-input{border:none}  ng2-menu-item{height:100px!important}"]}),w)},gMuu:function(e,t,n){"use strict";function r(e){for(var t="",n="!@#$%~^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}n.d(t,"a",(function(){return r}))},kiHB:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("wd/R");function i(e,t){return function(n){var r=n.controls[t];r.errors&&!r.errors.mustMatch||r.setErrors(n.controls[e].value!==r.value?{mustMatch:!0}:null)}}function o(e,t){return function(n){var i=n.controls[t];i.errors&&!i.errors.mustMatch||(r(n.controls[e].value).isBefore(r(i.value))?i.setErrors(null):i.setErrors({mustAfter:!0}))}}}}])}();