!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{MOo2:function(t,o,r){"use strict";r.r(o),r.d(o,"SchoolDocumentsModule",(function(){return F}));var a=r("ofXK"),l=r("tyNb"),i=r("B3Wl"),c=r("oeL9"),s=r("NdX7"),d=r("fXoL"),u=r("aceb"),m=r("/aQt"),p=r("XNiG"),f=r("AytR"),b=r("EwH2");function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"nb-option",3),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n.value),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.key)}}function h(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275element"](1,"ngx-file-upload",4),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("url",n.uploadUrl+n.Classroom+"/")("storage",n.storageClasrrom)("formDataName","url")}}function g(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275element"](1,"ngx-file-upload",4),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("url",n.uploadUrl+n.All+"/")("storage",n.storageAll)("formDataName","url")}}var S,y=((S=function(){function t(n){var o=this;e(this,t),this.documentService=n,this.onUploadedEvent=new d.EventEmitter,this.Classroom=c.a.Classroom,this.All=c.a.All,this.uploadStates=m.c,this.uploads=[],this.destroy$=new p.a,this.documentFor=c.a.All,this.uploadUrl=f.a.API_URL+"/upload/document/",this.selectList=Object.keys(c.a).map((function(e){return{key:e,value:c.a[e]}})),this.storageClasrrom=new m.d({concurrentUploads:4}),this.storageAll=new m.d({concurrentUploads:4}),this.uploadedClassroomRequestIds=[],this.uploadedAllRequestIds=[],this.storageClasrrom.change().subscribe((function(e){console.log(e.length),e.forEach((function(e){e.isCompleted()&&(console.log(e),o.uploadedClassroomRequestIds.includes(e.requestId)||(console.log(e.data.response.body),o.uploadedClassroomRequestIds.push(e.requestId),o.onUploadedEvent.emit({documentFor:c.a.Classroom,data:e.data.response.body})))}))})),this.storageAll.change().subscribe((function(e){console.log(e.length),e.forEach((function(e){e.isCompleted()&&(console.log(e),o.uploadedAllRequestIds.includes(e.requestId)||(console.log(e.data.response.body),o.uploadedAllRequestIds.push(e.requestId),o.onUploadedEvent.emit({documentFor:c.a.All,data:e.data.response.body})))}))}))}return n(t,[{key:"ngOnInit",value:function(){}},{key:"selectChange",value:function(e){this.documentFor=e}}]),t}()).\u0275fac=function(e){return new(e||S)(d["\u0275\u0275directiveInject"](i.a))},S.\u0275cmp=d["\u0275\u0275defineComponent"]({type:S,selectors:[["ngx-add-document"]],outputs:{onUploadedEvent:"onUploaded"},decls:4,vars:4,consts:[[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"url","storage","formDataName"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"nb-select",0),d["\u0275\u0275listener"]("selectedChange",(function(e){return t.selectChange(e)})),d["\u0275\u0275template"](1,v,2,2,"nb-option",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](2,h,2,3,"div",2),d["\u0275\u0275template"](3,g,2,3,"div",2)),2&e&&(d["\u0275\u0275property"]("selected",t.documentFor),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.selectList),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.documentFor==t.Classroom),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.documentFor==t.All))},directives:[u.fb,a.n,a.o,u.bb,b.g],styles:[""]}),S),E=r("sYmb");function w(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-list-item",12),d["\u0275\u0275elementStart"](1,"a",13),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",14),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"]().removeDocument(e)})),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275element"](5,"nb-icon",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("href",o.url,d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",o.name,""),d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("nbTooltip",d["\u0275\u0275pipeBind1"](4,3,"Remove Documents"))}}function I(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nb-list-item",12),d["\u0275\u0275elementStart"](1,"a",13),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"button",14),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.$implicit;return d["\u0275\u0275nextContext"]().removeDocument(e)})),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275element"](5,"nb-icon",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("href",o.url,d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",o.name,""),d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("nbTooltip",d["\u0275\u0275pipeBind1"](4,3,"Remove Documents"))}}var C,k,x,A=[{path:"",component:(C=function(){function t(n,o){e(this,t),this.documentService=n,this.toastService=o,this.isAdd=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.documents=[],this.documentService.getDocuments().subscribe((function(t){e.documents=t}))}},{key:"onUploaded",value:function(e){this.documents.push({name:e.data.name,url:e.data.url,documentfor:e.documentFor})}},{key:"removeDocument",value:function(e){var t=this;this.documentService.deleteDocument(e.id).toPromise().then((function(n){t.toastService.success("Document has been deleted","success"),t.documents=t.documents.reduce((function(t,n){return n.id!=e.id&&t.push(n),t}),[])}))}},{key:"forClassroomDocuments",get:function(){return this.documents.filter((function(e){return e.documentfor==c.a.Classroom}))}},{key:"forAllDocuments",get:function(){return this.documents.filter((function(e){return e.documentfor==c.a.All}))}}]),t}(),C.\u0275fac=function(e){return new(e||C)(d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](s.a))},C.\u0275cmp=d["\u0275\u0275defineComponent"]({type:C,selectors:[["ngx-school-documents"]],decls:34,vars:13,consts:[[3,"showToggleButton","flipped"],[1,"d-flex","align-items-center"],[1,"ml-4"],["nbTooltip","Add Documents","nbTooltipStatus","primary","nbButton","","ghost","",3,"click"],["icon","file-add",2,"color","#aebcd8"],["fullWidth",""],["tabTitle","For Classrooms"],["class","contact",4,"ngFor","ngForOf"],["tabTitle","For All"],["nbButton","","ghost","",3,"nbTooltip","click"],["icon","arrow-back-outline",2,"color","white"],[3,"onUploaded"],[1,"contact"],["target","_blank",3,"href"],["nbTooltipStatus","primary","nbButton","","ghost","",3,"nbTooltip","click"],["icon","file-remove",2,"color","#aebcd8"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"nb-flip-card",0),d["\u0275\u0275elementStart"](1,"nb-card-front"),d["\u0275\u0275elementStart"](2,"nb-card"),d["\u0275\u0275elementStart"](3,"nb-card-header"),d["\u0275\u0275elementStart"](4,"div",1),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementStart"](7,"div",2),d["\u0275\u0275elementStart"](8,"button",3),d["\u0275\u0275listener"]("click",(function(){return t.isAdd=!0})),d["\u0275\u0275element"](9,"nb-icon",4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"nb-card-body"),d["\u0275\u0275elementStart"](11,"nb-tabset",5),d["\u0275\u0275elementStart"](12,"nb-tab",6),d["\u0275\u0275elementStart"](13,"nb-card"),d["\u0275\u0275elementStart"](14,"nb-card-body"),d["\u0275\u0275elementStart"](15,"nb-list"),d["\u0275\u0275template"](16,w,6,5,"nb-list-item",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"nb-tab",8),d["\u0275\u0275elementStart"](18,"nb-card"),d["\u0275\u0275elementStart"](19,"nb-card-body"),d["\u0275\u0275elementStart"](20,"nb-list"),d["\u0275\u0275template"](21,I,6,5,"nb-list-item",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"nb-card-back"),d["\u0275\u0275elementStart"](23,"nb-card"),d["\u0275\u0275elementStart"](24,"nb-card-header"),d["\u0275\u0275elementStart"](25,"div",1),d["\u0275\u0275elementStart"](26,"button",9),d["\u0275\u0275listener"]("click",(function(){return t.isAdd=!1})),d["\u0275\u0275pipe"](27,"translate"),d["\u0275\u0275elementStart"](28,"nb-icon",10),d["\u0275\u0275text"](29,"arrow-back-outline"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](30),d["\u0275\u0275pipe"](31,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"nb-card-body"),d["\u0275\u0275elementStart"](33,"ngx-add-document",11),d["\u0275\u0275listener"]("onUploaded",(function(e){return t.onUploaded(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("showToggleButton",!1)("flipped",t.isAdd),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](6,7,"School Documents ")," "),d["\u0275\u0275advance"](11),d["\u0275\u0275property"]("ngForOf",t.forClassroomDocuments),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngForOf",t.forAllDocuments),d["\u0275\u0275advance"](5),d["\u0275\u0275propertyInterpolate"]("nbTooltip",d["\u0275\u0275pipeBind1"](27,9,"Back")),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](31,11,"Add School Documents")," "))},directives:[u.H,u.w,u.u,u.x,u.q,u.ub,u.I,u.t,u.nb,u.mb,u.U,a.n,u.s,y,u.V],pipes:[E.c],styles:[".contact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.contact[_ngcontent-%COMP%]:first-child{border-top:none}"]}),C)}],D=((k=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||k)},imports:[[l.g.forChild(A)],l.g]}),k),U=r("kvL/"),j=r("p0MU"),F=((x=function t(){e(this,t)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:x}),x.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||x)},imports:[[a.c,D,u.y,u.W,u.gb,u.K,u.r,u.vb,u.ob,b.a,b.d,b.b,m.a,U.c,b.c,j.a]]}),x)},NdX7:function(t,o,r){"use strict";r.d(o,"a",(function(){return s}));var a=r("cp0P"),l=r("fXoL"),i=r("sYmb"),c=r("aceb"),s=function(){var t=function(){function t(n,o){e(this,t),this.translateService=n,this.toastrService=o}return n(t,[{key:"success",value:function(e,t){var n=this;Object(a.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.success(e.msg,e.title)}))}},{key:"show",value:function(e,t){var n=this;Object(a.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.show(e.msg,e.title)}))}},{key:"info",value:function(e,t){var n=this;Object(a.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.info(e.msg,e.title)}))}},{key:"warning",value:function(e,t){var n=this;Object(a.a)({msg:this.translateService.get(e),title:this.translateService.get(t)}).subscribe((function(e){n.toastrService.warning(e.msg,e.title)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275inject"](i.d),l["\u0275\u0275inject"](c.rb))},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();