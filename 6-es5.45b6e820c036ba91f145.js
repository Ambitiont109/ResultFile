function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(n,e,t){"use strict";t.r(e);var i,o=t("ofXK"),r=t("tyNb"),s=t("ccyI"),a=t("fXoL"),l=t("aceb"),c=t("McNs"),b=((i=function(){function n(e,t){_classCallCheck(this,n),this.auth=e,this.location=t,this.alive=!0,this.authenticated=!1,this.token=""}return _createClass(n,[{key:"back",value:function(){return this.location.back(),!1}},{key:"ngOnDestroy",value:function(){this.alive=!1}}]),n}()).\u0275fac=function(n){return new(n||i)(a.Rb(s.a),a.Rb(o.i))},i.\u0275cmp=a.Lb({type:i,selectors:[["ngx-auth"]],decls:10,vars:0,consts:[[1,"navigation"],["href","#","aria-label","Back",1,"link",3,"click"],["icon","arrow-back"]],template:function(n,e){1&n&&(a.Xb(0,"nb-layout"),a.Xb(1,"nb-layout-column"),a.Xb(2,"nb-card"),a.Xb(3,"nb-card-header"),a.Xb(4,"nav",0),a.Xb(5,"a",1),a.fc("click",(function(){return e.back()})),a.Sb(6,"nb-icon",2),a.Wb(),a.Wb(),a.Wb(),a.Xb(7,"nb-card-body"),a.Xb(8,"nb-auth-block"),a.Sb(9,"router-outlet"),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb())},directives:[l.B,l.A,l.n,l.o,l.v,l.m,c.a,r.h],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0;height:calc(100vh - 5rem)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:inline-block;text-decoration:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem;vertical-align:middle}[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   nb-auth-block[_ngcontent-%COMP%]{margin:auto}@media (max-width:767.98px){[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-radius:0;height:100vh}}[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:2.5rem}@media (max-width:767.98px){[_nghost-%COMP%]     nb-layout .layout .layout-container .content .columns nb-layout-column{padding:0}}"]}),i),u=t("3Pt+");function d(n,e){if(1&n&&(a.Xb(0,"li",19),a.Dc(1),a.Wb()),2&n){var t=e.$implicit;a.Eb(1),a.Ec(t)}}function g(n,e){if(1&n&&(a.Xb(0,"nb-alert",15),a.Xb(1,"p",16),a.Xb(2,"b"),a.Dc(3,"Oh snap!"),a.Wb(),a.Wb(),a.Xb(4,"ul",17),a.Bc(5,d,2,1,"li",18),a.Wb(),a.Wb()),2&n){var t=a.hc();a.Eb(5),a.nc("ngForOf",t.errors)}}function h(n,e){if(1&n&&(a.Xb(0,"li",19),a.Dc(1),a.Wb()),2&n){var t=e.$implicit;a.Eb(1),a.Ec(t)}}function f(n,e){if(1&n&&(a.Xb(0,"nb-alert",20),a.Xb(1,"p",16),a.Xb(2,"b"),a.Dc(3,"Hooray!"),a.Wb(),a.Wb(),a.Xb(4,"ul",17),a.Bc(5,h,2,1,"li",18),a.Wb(),a.Wb()),2&n){var t=a.hc();a.Eb(5),a.nc("ngForOf",t.messages)}}function m(n,e){1&n&&(a.Xb(0,"p",22),a.Dc(1," Email is required! "),a.Wb())}function p(n,e){1&n&&(a.Xb(0,"p",22),a.Dc(1," Email should be the real one! "),a.Wb())}function v(n,e){if(1&n&&(a.Vb(0),a.Bc(1,m,2,0,"p",21),a.Bc(2,p,2,0,"p",21),a.Ub()),2&n){a.hc();var t=a.tc(12);a.Eb(1),a.nc("ngIf",null==t.errors?null:t.errors.required),a.Eb(1),a.nc("ngIf",null==t.errors?null:t.errors.pattern)}}function y(n,e){1&n&&(a.Xb(0,"p",22),a.Dc(1," Password is required! "),a.Wb())}function C(n,e){if(1&n&&(a.Vb(0),a.Bc(1,y,2,0,"p",21),a.Ub()),2&n){a.hc();var t=a.tc(18);a.Eb(1),a.nc("ngIf",null==t.errors?null:t.errors.required)}}var M,W,w=[{path:"",component:b,children:[{path:"login",component:(M=function(){function n(e,t){_classCallCheck(this,n),this.service=e,this.router=t,this.redirectDelay=0,this.showMessages={},this.strategy="",this.errors=[],this.messages=[],this.user={},this.submitted=!1,this.rememberMe=!1}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var n=this;this.errors=[],this.messages=[];var e=this.user;this.submitted=!0,this.service.login(e.email,e.password).subscribe((function(e){console.log(e),localStorage.setItem("access_token",e.token),n.router.navigate(["/dashboard"]),n.submitted=!0}),(function(e){console.log(e),console.log("===================="),n.submitted=!1,n.errors=["login failed"],n.showMessages.error=!0}))}}]),n}(),M.\u0275fac=function(n){return new(n||M)(a.Rb(s.a),a.Rb(r.c))},M.\u0275cmp=a.Lb({type:M,selectors:[["ngx-login"]],decls:22,vars:14,consts:[["id","title",1,"title"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],["form","ngForm"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","pattern",".+@.+\\..+","placeholder","Email address","autofocus","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],[4,"ngIf"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Password","required","",3,"ngModel","status","ngModelChange"],["password","ngModel"],["nbButton","","fullWidth","","status","success",3,"disabled"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,e){if(1&n&&(a.Xb(0,"h1",0),a.Dc(1,"Login"),a.Wb(),a.Xb(2,"p",1),a.Dc(3,"Hello! Log in with your email."),a.Wb(),a.Bc(4,g,6,1,"nb-alert",2),a.Bc(5,f,6,1,"nb-alert",3),a.Xb(6,"form",4,5),a.fc("ngSubmit",(function(){return e.login()})),a.Xb(8,"div",6),a.Xb(9,"label",7),a.Dc(10,"Email address:"),a.Wb(),a.Xb(11,"input",8,9),a.fc("ngModelChange",(function(n){return e.user.email=n})),a.Wb(),a.Bc(13,v,3,2,"ng-container",10),a.Wb(),a.Xb(14,"div",6),a.Xb(15,"label",11),a.Dc(16,"Password:"),a.Wb(),a.Xb(17,"input",12,13),a.fc("ngModelChange",(function(n){return e.user.password=n})),a.Wb(),a.Bc(19,C,2,1,"ng-container",10),a.Wb(),a.Xb(20,"button",14),a.Dc(21," Log In "),a.Wb(),a.Wb()),2&n){var t=a.tc(7),i=a.tc(12),o=a.tc(18);a.Eb(4),a.nc("ngIf",e.showMessages.error&&(null==e.errors?null:e.errors.length)&&!e.submitted),a.Eb(1),a.nc("ngIf",e.showMessages.success&&(null==e.messages?null:e.messages.length)&&!e.submitted),a.Eb(6),a.nc("ngModel",e.user.email)("status",i.dirty?i.invalid?"danger":"success":"")("required",!0),a.Fb("aria-invalid",!(!i.invalid||!i.touched)||null),a.Eb(2),a.nc("ngIf",i.invalid&&i.touched),a.Eb(4),a.nc("ngModel",e.user.password)("status",o.dirty?o.invalid?"danger":"success":""),a.Fb("aria-invalid",!(!o.invalid||!o.touched)||null),a.Eb(2),a.nc("ngIf",o.invalid&&o.touched),a.Eb(1),a.Ib("btn-pulse",e.submitted),a.nc("disabled",e.submitted||!t.valid)}},directives:[o.m,u.y,u.o,u.p,l.y,u.b,u.s,u.n,u.q,u.u,l.k,o.l],styles:[""]}),M)}]}],X=((W=function n(){_classCallCheck(this,n)}).\u0275mod=a.Pb({type:W}),W.\u0275inj=a.Ob({factory:function(n){return new(n||W)},imports:[[r.g.forChild(w)],r.g]}),W);t.d(e,"AuthModule",(function(){return k}));var _,k=((_=function n(){_classCallCheck(this,n)}).\u0275mod=a.Pb({type:_}),_.\u0275inj=a.Ob({factory:function(n){return new(n||_)},imports:[[o.c,X,u.h,l.p,l.l,l.z,c.b,l.G,l.x]]}),_)}}]);